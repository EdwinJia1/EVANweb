<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Line Arguments - Core Notes | COMP1511</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            background-color: #f8f7f2;
            color: #2c2c2c;
        }
        .concept-card {
            background-color: #ffffff;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .back-button {
            background-color: #f8f7f2;
            color: #2c2c2c;
            border: 2px solid #e07a5f;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        .back-button:hover {
            background-color: #e07a5f;
            color: #ffffff;
            transform: translateY(-2px);
        }
        .chapter-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            color: #2c2c2c;
            margin: 2rem 0;
        }
        .summary-card {
            background: linear-gradient(135deg, #f4a261 0%, #e76f51 100%);
            color: #ffffff;
            border-radius: 0.5rem;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 16px -4px rgb(0 0 0 / 0.1);
        }
        .code-block {
            background-color: #f8f7f2;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #e07a5f;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .diagram {
            background-color: #f8f7f2;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            border: 2px dashed #e07a5f;
        }
        .highlight {
            background-color: #fff7ed;
            border-left: 4px solid #f4a261;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 0.375rem 0.375rem 0;
        }
        .arg-visual {
            display: inline-flex;
            border: 2px solid #e07a5f;
            border-radius: 0.375rem;
            overflow: hidden;
            margin: 0.5rem;
            background-color: #ffffff;
        }
        .arg-index {
            padding: 0.5rem 1rem;
            background-color: #8b8589;
            color: #ffffff;
            font-weight: 600;
            border-right: 2px solid #8b8589;
            font-family: 'Courier New', monospace;
        }
        .arg-value {
            padding: 0.5rem 1rem;
            background-color: #f8f7f2;
            color: #2c2c2c;
            min-width: 6rem;
            text-align: center;
            font-family: 'Courier New', monospace;
        }
        .terminal-visual {
            background-color: #2c2c2c;
            color: #00ff00;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
        }
        .terminal-prompt {
            color: #ffffff;
        }
        .terminal-input {
            color: #ffff00;
        }
        .warning {
            background-color: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 0.375rem 0.375rem 0;
        }
        .tip {
            background-color: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 0.375rem 0.375rem 0;
        }
        .success {
            background-color: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 0.375rem 0.375rem 0;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 py-8 md:py-12 max-w-4xl">
        
        <!-- Back to COMP1511 Button -->
        <a href="../comp1511.html" class="back-button">
            <span>â†</span>
            <span>Back to COMP1511</span>
        </a>

        <!-- Chapter Header -->
        <header class="text-center mb-8">
            <h1 class="chapter-title">å‘½ä»¤è¡Œå‚æ•°</h1>
            <p class="text-xl text-gray-600">Command Line Arguments</p>
        </header>

        <!-- Course Summary -->
        <div class="summary-card">
            <h2 class="text-2xl font-bold mb-4">è¯¾ç¨‹æ¦‚è¿° | Course Overview</h2>
            <p class="text-lg mb-4">
                å‘½ä»¤è¡Œå‚æ•°è®©Cç¨‹åºèƒ½å¤Ÿæ¥æ”¶å¤–éƒ¨è¾“å…¥ï¼Œä½¿ç¨‹åºæ›´åŠ çµæ´»å’Œå®ç”¨ã€‚æŒæ¡å‘½ä»¤è¡Œå‚æ•°å¤„ç†æ˜¯ç¼–å†™ä¸“ä¸šçº§Cç¨‹åºçš„åŸºç¡€æŠ€èƒ½ï¼š
            </p>
            <ul class="list-disc list-inside space-y-2 text-lg">
                <li>ç†è§£ argc å’Œ argv çš„å«ä¹‰å’Œç”¨æ³•</li>
                <li>å­¦ä¼šè§£æå’ŒéªŒè¯å‘½ä»¤è¡Œè¾“å…¥</li>
                <li>æŒæ¡å¸¸è§çš„å‚æ•°æ¨¡å¼å’Œçº¦å®š</li>
                <li>å®ç°robustçš„é”™è¯¯å¤„ç†</li>
                <li>æ„å»ºå¯é…ç½®çš„å‘½ä»¤è¡Œå·¥å…·</li>
            </ul>
        </div>

        <!-- Chapter 1: What are Command Line Arguments? -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">1. ä»€ä¹ˆæ˜¯å‘½ä»¤è¡Œå‚æ•°ï¼Ÿ</h3>
            
            <p class="text-lg mb-4">
                <strong>å‘½ä»¤è¡Œå‚æ•°</strong>æ˜¯ç¨‹åºå¯åŠ¨æ—¶ä»å‘½ä»¤è¡Œä¼ é€’ç»™ç¨‹åºçš„æ•°æ®ã€‚å®ƒä»¬è®©ç”¨æˆ·å¯ä»¥åœ¨ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹æ”¹å˜ç¨‹åºçš„è¡Œä¸ºã€‚
            </p>

            <div class="terminal-visual">
                <div class="terminal-prompt">$ <span class="terminal-input">./my_program file.txt -n 10 --verbose</span></div>
                <div class="mt-2">â†‘ è¿™ä¸ªå‘½ä»¤åŒ…å«äº†å¤šä¸ªå‚æ•°</div>
            </div>

            <div class="highlight">
                <h4 class="font-bold text-lg mb-2">å‚æ•°åˆ†è§£ï¼š</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li><strong>./my_program</strong>ï¼šç¨‹åºåï¼ˆargv[0]ï¼‰</li>
                    <li><strong>file.txt</strong>ï¼šç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆargv[1]ï¼‰</li>
                    <li><strong>-n</strong>ï¼šé€‰é¡¹æ ‡å¿—ï¼ˆargv[2]ï¼‰</li>
                    <li><strong>10</strong>ï¼šé€‰é¡¹å€¼ï¼ˆargv[3]ï¼‰</li>
                    <li><strong>--verbose</strong>ï¼šé•¿é€‰é¡¹ï¼ˆargv[4]ï¼‰</li>
                </ul>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">mainå‡½æ•°çš„å®Œæ•´å½¢å¼ï¼š</h4>
            <div class="code-block">
<pre>int main(int argc, char *argv[]) {
    // argc: argument countï¼ˆå‚æ•°ä¸ªæ•°ï¼‰
    // argv: argument vectorï¼ˆå‚æ•°å‘é‡/æ•°ç»„ï¼‰
    
    printf("ç¨‹åºæ¥æ”¶åˆ° %d ä¸ªå‚æ•°\n", argc);
    
    for (int i = 0; i < argc; i++) {
        printf("argv[%d] = \"%s\"\n", i, argv[i]);
    }
    
    return 0;
}</pre>
            </div>
        </div>

        <!-- Chapter 2: Understanding argc and argv -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">2. æ·±å…¥ç†è§£ argc å’Œ argv</h3>
            
            <h4 class="font-bold text-lg mb-2">2.1 argcï¼ˆArgument Countï¼‰</h4>
            <p class="text-lg mb-4">
                <strong>argc</strong> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¼ é€’ç»™ç¨‹åºçš„å‚æ•°æ€»æ•°ï¼Œ<strong>åŒ…æ‹¬ç¨‹åºåæœ¬èº«</strong>ã€‚
            </p>

            <div class="code-block">
<pre>// ç¤ºä¾‹ï¼š./program hello world
// argc = 3ï¼ˆç¨‹åºå + 2ä¸ªå‚æ•°ï¼‰

int main(int argc, char *argv[]) {
    printf("å‚æ•°æ€»æ•°: %d\n", argc);  // è¾“å‡º: å‚æ•°æ€»æ•°: 3
    
    if (argc < 2) {
        printf("ç”¨æ³•: %s <å‚æ•°1> [å‚æ•°2] ...\n", argv[0]);
        return 1;  // é”™è¯¯é€€å‡º
    }
    
    return 0;
}</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">2.2 argvï¼ˆArgument Vectorï¼‰</h4>
            <p class="text-lg mb-4">
                <strong>argv</strong> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘Cå­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚
            </p>

            <div class="diagram">
                <p class="mb-4">å‘½ä»¤ï¼š./calculator 15 + 25</p>
                <div class="flex flex-wrap justify-center items-center">
                    <div class="arg-visual">
                        <div class="arg-index">argv[0]</div>
                        <div class="arg-value">"./calculator"</div>
                    </div>
                    <div class="arg-visual">
                        <div class="arg-index">argv[1]</div>
                        <div class="arg-value">"15"</div>
                    </div>
                    <div class="arg-visual">
                        <div class="arg-index">argv[2]</div>
                        <div class="arg-value">"+"</div>
                    </div>
                    <div class="arg-visual">
                        <div class="arg-index">argv[3]</div>
                        <div class="arg-value">"25"</div>
                    </div>
                </div>
                <p class="mt-4">argc = 4</p>
            </div>

            <div class="tip">
                <h4 class="font-bold">ğŸ’¡ é‡è¦æç¤ºï¼š</h4>
                <p>æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼å³ä½¿è¾“å…¥æ•°å­—ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ <code>atoi()</code>ã€<code>atof()</code> ç­‰å‡½æ•°è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ã€‚</p>
            </div>
        </div>

        <!-- Chapter 3: Parsing Arguments -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">3. å‚æ•°è§£æä¸å¤„ç†</h3>
            
            <h4 class="font-bold text-lg mb-2">3.1 åŸºæœ¬å‚æ•°éå†</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    printf("ç¨‹åºå: %s\n", argv[0]);
    printf("å‚æ•°ä¸ªæ•°: %d\n", argc - 1);  // å‡å»ç¨‹åºå
    
    // éå†æ‰€æœ‰å‚æ•°ï¼ˆè·³è¿‡ç¨‹åºåï¼‰
    for (int i = 1; i < argc; i++) {
        printf("å‚æ•° %d: %s\n", i, argv[i]);
    }
    
    return 0;
}</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">3.2 å­—ç¬¦ä¸²åˆ°æ•°å­—çš„è½¬æ¢</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char *argv[]) {
    if (argc != 3) {
        printf("ç”¨æ³•: %s &lt;æ•°å­—1&gt; &lt;æ•°å­—2&gt;\n", argv[0]);
        return 1;
    }
    
    // è½¬æ¢å­—ç¬¦ä¸²ä¸ºæ•´æ•°
    int num1 = atoi(argv[1]);
    int num2 = atoi(argv[2]);
    
    printf("%d + %d = %d\n", num1, num2, num1 + num2);
    
    return 0;
}</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">3.3 å‚æ•°éªŒè¯</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;

// æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­—
int is_valid_number(const char *str) {
    if (str == NULL || *str == '\0') {
        return 0;  // ç©ºå­—ç¬¦ä¸²
    }
    
    // å…è®¸è´Ÿå·
    if (*str == '-') {
        str++;
    }
    
    // æ£€æŸ¥æ¯ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—
    while (*str) {
        if (!isdigit(*str)) {
            return 0;
        }
        str++;
    }
    
    return 1;
}

int main(int argc, char *argv[]) {
    if (argc != 2) {
        printf("ç”¨æ³•: %s &lt;æ•°å­—&gt;\n", argv[0]);
        return 1;
    }
    
    if (!is_valid_number(argv[1])) {
        printf("é”™è¯¯: '%s' ä¸æ˜¯æœ‰æ•ˆæ•°å­—\n", argv[1]);
        return 1;
    }
    
    int number = atoi(argv[1]);
    printf("æ‚¨è¾“å…¥çš„æ•°å­—æ˜¯: %d\n", number);
    printf("å®ƒçš„å¹³æ–¹æ˜¯: %d\n", number * number);
    
    return 0;
}</pre>
            </div>
        </div>

        <!-- Chapter 4: Common Patterns -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">4. å¸¸è§å‚æ•°æ¨¡å¼</h3>
            
            <h4 class="font-bold text-lg mb-2">4.1 é€‰é¡¹æ ‡å¿—å¤„ç†</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    int verbose = 0;    // è¯¦ç»†è¾“å‡ºæ ‡å¿—
    int help = 0;       // å¸®åŠ©æ ‡å¿—
    char *filename = NULL;
    
    // è§£æé€‰é¡¹
    for (int i = 1; i < argc; i++) {
        if (strcmp(argv[i], "-v") == 0 || strcmp(argv[i], "--verbose") == 0) {
            verbose = 1;
        } else if (strcmp(argv[i], "-h") == 0 || strcmp(argv[i], "--help") == 0) {
            help = 1;
        } else if (argv[i][0] != '-') {
            // ä¸ä»¥ '-' å¼€å¤´çš„å‚æ•°è§†ä¸ºæ–‡ä»¶å
            filename = argv[i];
        } else {
            printf("æœªçŸ¥é€‰é¡¹: %s\n", argv[i]);
            return 1;
        }
    }
    
    if (help) {
        printf("ç”¨æ³•: %s [é€‰é¡¹] &lt;æ–‡ä»¶å&gt;\n", argv[0]);
        printf("é€‰é¡¹:\n");
        printf("  -v, --verbose  è¯¦ç»†è¾“å‡º\n");
        printf("  -h, --help     æ˜¾ç¤ºå¸®åŠ©\n");
        return 0;
    }
    
    if (filename == NULL) {
        printf("é”™è¯¯: è¯·æŒ‡å®šæ–‡ä»¶å\n");
        return 1;
    }
    
    if (verbose) {
        printf("å¤„ç†æ–‡ä»¶: %s\n", filename);
    }
    
    // å¤„ç†æ–‡ä»¶çš„ä»£ç ...
    printf("æ–‡ä»¶ '%s' å¤„ç†å®Œæˆ\n", filename);
    
    return 0;
}</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">4.2 å¸¦å€¼çš„é€‰é¡¹</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    int count = 1;      // é»˜è®¤è®¡æ•°
    char *output = NULL; // è¾“å‡ºæ–‡ä»¶
    
    for (int i = 1; i < argc; i++) {
        if (strcmp(argv[i], "-n") == 0) {
            // ä¸‹ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯æ•°å­—
            if (i + 1 < argc) {
                count = atoi(argv[i + 1]);
                i++;  // è·³è¿‡å·²å¤„ç†çš„å‚æ•°
            } else {
                printf("é”™è¯¯: -n é€‰é¡¹éœ€è¦ä¸€ä¸ªæ•°å€¼\n");
                return 1;
            }
        } else if (strcmp(argv[i], "-o") == 0) {
            // ä¸‹ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯è¾“å‡ºæ–‡ä»¶å
            if (i + 1 < argc) {
                output = argv[i + 1];
                i++;  // è·³è¿‡å·²å¤„ç†çš„å‚æ•°
            } else {
                printf("é”™è¯¯: -o é€‰é¡¹éœ€è¦ä¸€ä¸ªæ–‡ä»¶å\n");
                return 1;
            }
        }
    }
    
    printf("é‡å¤æ¬¡æ•°: %d\n", count);
    if (output) {
        printf("è¾“å‡ºæ–‡ä»¶: %s\n", output);
    } else {
        printf("è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º\n");
    }
    
    return 0;
}</pre>
            </div>
        </div>

        <!-- Chapter 5: Practical Examples -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">5. å®é™…åº”ç”¨ç¤ºä¾‹</h3>
            
            <h4 class="font-bold text-lg mb-2">5.1 ç®€å•è®¡ç®—å™¨</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    if (argc != 4) {
        printf("ç”¨æ³•: %s &lt;æ•°å­—1&gt; &lt;æ“ä½œç¬¦&gt; &lt;æ•°å­—2&gt;\n", argv[0]);
        printf("æ“ä½œç¬¦: +, -, *, /\n");
        return 1;
    }
    
    double num1 = atof(argv[1]);
    char *operator = argv[2];
    double num2 = atof(argv[3]);
    double result;
    
    if (strcmp(operator, "+") == 0) {
        result = num1 + num2;
    } else if (strcmp(operator, "-") == 0) {
        result = num1 - num2;
    } else if (strcmp(operator, "*") == 0) {
        result = num1 * num2;
    } else if (strcmp(operator, "/") == 0) {
        if (num2 == 0) {
            printf("é”™è¯¯: é™¤æ•°ä¸èƒ½ä¸ºé›¶\n");
            return 1;
        }
        result = num1 / num2;
    } else {
        printf("é”™è¯¯: ä¸æ”¯æŒçš„æ“ä½œç¬¦ '%s'\n", operator);
        return 1;
    }
    
    printf("%.2f %s %.2f = %.2f\n", num1, operator, num2, result);
    
    return 0;
}

// ä½¿ç”¨ç¤ºä¾‹:
// $ ./calculator 15.5 + 8.3
// 15.50 + 8.30 = 23.80</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">5.2 æ–‡ä»¶å¤„ç†å·¥å…·</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    if (argc < 2) {
        printf("ç”¨æ³•: %s [é€‰é¡¹] &lt;æ–‡ä»¶å1&gt; [æ–‡ä»¶å2] ...\n", argv[0]);
        printf("é€‰é¡¹:\n");
        printf("  -c  ç»Ÿè®¡å­—ç¬¦æ•°\n");
        printf("  -l  ç»Ÿè®¡è¡Œæ•°\n");
        printf("  -w  ç»Ÿè®¡å•è¯æ•°\n");
        return 1;
    }
    
    int count_chars = 0, count_lines = 0, count_words = 0;
    int file_start = 1;  // æ–‡ä»¶åå¼€å§‹çš„ç´¢å¼•
    
    // è§£æé€‰é¡¹
    for (int i = 1; i < argc && argv[i][0] == '-'; i++) {
        if (strcmp(argv[i], "-c") == 0) {
            count_chars = 1;
        } else if (strcmp(argv[i], "-l") == 0) {
            count_lines = 1;
        } else if (strcmp(argv[i], "-w") == 0) {
            count_words = 1;
        } else {
            printf("æœªçŸ¥é€‰é¡¹: %s\n", argv[i]);
            return 1;
        }
        file_start++;
    }
    
    // å¦‚æœæ²¡æœ‰æŒ‡å®šé€‰é¡¹ï¼Œé»˜è®¤ç»Ÿè®¡æ‰€æœ‰
    if (!count_chars && !count_lines && !count_words) {
        count_chars = count_lines = count_words = 1;
    }
    
    // å¤„ç†æ¯ä¸ªæ–‡ä»¶
    for (int i = file_start; i < argc; i++) {
        FILE *file = fopen(argv[i], "r");
        if (file == NULL) {
            printf("é”™è¯¯: æ— æ³•æ‰“å¼€æ–‡ä»¶ '%s'\n", argv[i]);
            continue;
        }
        
        int chars = 0, lines = 0, words = 0;
        int in_word = 0;
        int c;
        
        while ((c = fgetc(file)) != EOF) {
            chars++;
            
            if (c == '\n') {
                lines++;
            }
            
            if (c == ' ' || c == '\t' || c == '\n') {
                in_word = 0;
            } else if (!in_word) {
                words++;
                in_word = 1;
            }
        }
        
        fclose(file);
        
        printf("%s: ", argv[i]);
        if (count_lines) printf("%d è¡Œ ", lines);
        if (count_words) printf("%d å•è¯ ", words);
        if (count_chars) printf("%d å­—ç¬¦", chars);
        printf("\n");
    }
    
    return 0;
}</pre>
            </div>
        </div>

        <!-- Chapter 6: Best Practices -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">6. æœ€ä½³å®è·µä¸å¸¸è§é”™è¯¯</h3>
            
            <div class="success">
                <h4 class="font-bold text-lg mb-2">âœ… æœ€ä½³å®è·µï¼š</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>å§‹ç»ˆæ£€æŸ¥ argc çš„å€¼ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„å‚æ•°</li>
                    <li>æä¾›æ¸…æ™°çš„ç”¨æ³•ä¿¡æ¯å’Œé”™è¯¯æ¶ˆæ¯</li>
                    <li>éªŒè¯è¾“å…¥å‚æ•°çš„æœ‰æ•ˆæ€§</li>
                    <li>æ”¯æŒå¸¸è§çš„é€‰é¡¹çº¦å®šï¼ˆ-h å¸®åŠ©ï¼Œ-v è¯¦ç»†ï¼‰</li>
                    <li>å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆå¦‚é™¤é›¶ã€æ–‡ä»¶ä¸å­˜åœ¨ç­‰ï¼‰</li>
                </ul>
            </div>

            <div class="warning">
                <h4 class="font-bold text-lg mb-2">âš ï¸ å¸¸è§é”™è¯¯ï¼š</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>å¿˜è®°æ£€æŸ¥ argcï¼Œå¯¼è‡´è®¿é—®ä¸å­˜åœ¨çš„ argv å…ƒç´ </li>
                    <li>ç›´æ¥ä½¿ç”¨ atoi() è€Œä¸éªŒè¯è¾“å…¥æ˜¯å¦ä¸ºæ•°å­—</li>
                    <li>æ²¡æœ‰å¤„ç†æ–‡ä»¶æ‰“å¼€å¤±è´¥çš„æƒ…å†µ</li>
                    <li>é€‰é¡¹è§£ææ—¶æ²¡æœ‰æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„å‚æ•°</li>
                    <li>é”™è¯¯ä¿¡æ¯ä¸å¤Ÿæ¸…æ™°ï¼Œç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•ä¿®æ­£</li>
                </ul>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">é”™è¯¯å¤„ç†æ¨¡æ¿ï¼š</h4>
            <div class="code-block">
<pre>int main(int argc, char *argv[]) {
    // 1. æ£€æŸ¥å‚æ•°ä¸ªæ•°
    if (argc < 2) {
        fprintf(stderr, "ç”¨æ³•: %s &lt;å‚æ•°&gt;\n", argv[0]);
        return 1;
    }
    
    // 2. éªŒè¯å‚æ•°æœ‰æ•ˆæ€§
    if (!is_valid_input(argv[1])) {
        fprintf(stderr, "é”™è¯¯: æ— æ•ˆè¾“å…¥ '%s'\n", argv[1]);
        return 1;
    }
    
    // 3. è¿›è¡Œå®é™…å¤„ç†ï¼Œæ•è·é”™è¯¯
    if (process_input(argv[1]) != 0) {
        fprintf(stderr, "é”™è¯¯: å¤„ç†å¤±è´¥\n");
        return 1;
    }
    
    return 0;  // æˆåŠŸ
}</pre>
            </div>
        </div>

        <!-- Chapter 7: Advanced Topics -->
        <div class="concept-card">
            <h3 class="text-2xl font-bold text-[#e07a5f] mb-4">7. é«˜çº§ä¸»é¢˜</h3>
            
            <h4 class="font-bold text-lg mb-2">7.1 ä½¿ç”¨ getopt() è§£æé€‰é¡¹</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;  // for getopt

int main(int argc, char *argv[]) {
    int opt;
    int verbose = 0;
    char *output_file = NULL;
    int count = 1;
    
    // è§£æé€‰é¡¹ï¼šv æ— å‚æ•°ï¼Œo: éœ€è¦å‚æ•°ï¼Œn: éœ€è¦å‚æ•°
    while ((opt = getopt(argc, argv, "vo:n:h")) != -1) {
        switch (opt) {
            case 'v':
                verbose = 1;
                break;
            case 'o':
                output_file = optarg;  // optarg åŒ…å«é€‰é¡¹çš„å‚æ•°
                break;
            case 'n':
                count = atoi(optarg);
                break;
            case 'h':
                printf("ç”¨æ³•: %s [-v] [-o è¾“å‡ºæ–‡ä»¶] [-n è®¡æ•°] æ–‡ä»¶å\n", argv[0]);
                return 0;
            case '?':
                // getopt ä¼šè‡ªåŠ¨æ‰“å°é”™è¯¯ä¿¡æ¯
                return 1;
        }
    }
    
    // å¤„ç†éé€‰é¡¹å‚æ•°
    for (int i = optind; i < argc; i++) {
        printf("å¤„ç†æ–‡ä»¶: %s\n", argv[i]);
    }
    
    return 0;
}</pre>
            </div>

            <h4 class="font-bold text-lg mb-2 mt-4">7.2 ç¯å¢ƒå˜é‡ç»“åˆ</h4>
            <div class="code-block">
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[]) {
    // ä»ç¯å¢ƒå˜é‡è·å–é»˜è®¤å€¼
    char *default_editor = getenv("EDITOR");
    if (default_editor == NULL) {
        default_editor = "vi";  // é»˜è®¤ç¼–è¾‘å™¨
    }
    
    char *editor = default_editor;
    
    // å‘½ä»¤è¡Œå‚æ•°å¯ä»¥è¦†ç›–ç¯å¢ƒå˜é‡
    for (int i = 1; i < argc; i++) {
        if (strcmp(argv[i], "-e") == 0 && i + 1 < argc) {
            editor = argv[i + 1];
            i++;
        }
    }
    
    printf("ä½¿ç”¨ç¼–è¾‘å™¨: %s\n", editor);
    
    return 0;
}</pre>
            </div>
        </div>

        <!-- Summary -->
        <div class="summary-card">
            <h2 class="text-2xl font-bold mb-4">æ€»ç»“ | Summary</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-xl font-bold mb-3">æ ¸å¿ƒæ¦‚å¿µï¼š</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>argc å’Œ argv çš„å«ä¹‰</li>
                        <li>å‚æ•°è§£æå’ŒéªŒè¯</li>
                        <li>å­—ç¬¦ä¸²åˆ°æ•°å­—è½¬æ¢</li>
                        <li>é€‰é¡¹å’Œæ ‡å¿—å¤„ç†</li>
                        <li>é”™è¯¯å¤„ç†å’Œç”¨æˆ·å‹å¥½æ€§</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3">å®ç”¨æŠ€èƒ½ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>æ„å»ºå‘½ä»¤è¡Œå·¥å…·</li>
                        <li>å®ç°å¸®åŠ©ç³»ç»Ÿ</li>
                        <li>å¤„ç†å¤šç§è¾“å…¥æ ¼å¼</li>
                        <li>ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°</li>
                        <li>éµå¾ªUNIXçº¦å®š</li>
                    </ul>
                </div>
            </div>
            <p class="text-lg mt-4">
                å‘½ä»¤è¡Œå‚æ•°æ˜¯Cç¨‹åºä¸å¤–ç•Œäº¤äº’çš„é‡è¦æ¥å£ã€‚æŒæ¡äº†è¿™äº›æŠ€èƒ½ï¼Œä½ å°±èƒ½ç¼–å†™å‡ºçœŸæ­£å®ç”¨çš„å‘½ä»¤è¡Œå·¥å…·å’Œåº”ç”¨ç¨‹åºã€‚
            </p>
        </div>

        <!-- Navigation -->
        <div class="concept-card text-center">
            <h3 class="text-xl font-bold text-[#e07a5f] mb-4">ç»§ç»­å­¦ä¹ </h3>
            <div class="space-y-4">
                <a href="./1511_cmd_args_interactive.html" class="back-button inline-flex">
                    <span>ğŸš€</span>
                    <span>è¿›å…¥å‘½ä»¤è¡Œå‚æ•°äº’åŠ¨è¯¾ç¨‹</span>
                </a>
                <br>
                <a href="./1511_pointers_notes.html" class="back-button inline-flex">
                    <span>ğŸ“–</span>
                    <span>å›åˆ°æŒ‡é’ˆç¬”è®°</span>
                </a>
            </div>
        </div>
    </div>
</body>
</html> 