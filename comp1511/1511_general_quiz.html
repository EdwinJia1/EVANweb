<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMP1511 - General Quiz | Programming Fundamentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            background-color: #f8f7f2;
            color: #2c2c2c;
            line-height: 1.6;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 2rem;
        }
        .question-card {
            background-color: #f8f7f2;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .question-card.answered-correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .question-card.answered-incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .option-button {
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            background-color: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .option-button:hover:not(.disabled) {
            border-color: #e07a5f;
            transform: translateX(5px);
        }
        .option-button.correct {
            border-color: #22c55e;
            background-color: #dcfce7;
        }
        .option-button.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
        }
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #e0f2fe;
            border-left: 4px solid #0ea5e9;
            border-radius: 0 0.375rem 0.375rem 0;
            display: none;
        }
        .explanation.show {
            display: block;
        }
        .difficulty-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .difficulty-easy {
            background-color: #dcfce7;
            color: #166534;
        }
        .difficulty-medium {
            background-color: #fed7aa;
            color: #9a3412;
        }
        .difficulty-hard {
            background-color: #ddd6fe;
            color: #5b21b6;
        }
        .difficulty-extreme {
            background-color: #fecaca;
            color: #991b1b;
        }
        .progress-bar {
            width: 100%;
            height: 1rem;
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #e07a5f 0%, #f4a261 100%);
            transition: width 0.3s ease;
        }
        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            box-shadow: 0 2px 4px -1px rgb(0 0 0 / 0.1);
        }
        .back-button {
            background-color: #f8f7f2;
            color: #2c2c2c;
            border: 2px solid #e07a5f;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        .back-button:hover {
            background-color: #e07a5f;
            color: #ffffff;
            transform: translateY(-2px);
        }
        .update-notice {
            background-color: #fff7ed;
            border: 2px solid #f4a261;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .code-block {
            background-color: #2c2c2c;
            color: #ffffff;
            padding: 1rem;
            border-radius: 0.375rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .terminal-simulator {
            background-color: #1f2937;
            color: #10b981;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
        }
        .terminal-input {
            background-color: #374151;
            color: #ffffff;
            border: none;
            padding: 0.5rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
            width: 100%;
            margin: 0.5rem 0;
        }
        .simulator-button {
            background-color: #e07a5f;
            color: #ffffff;
            border: none;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .simulator-button:hover {
            background-color: #d06850;
        }
        .simulator-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .code-editor {
            width: 100%;
            min-height: 150px;
            background-color: #2c2c2c;
            color: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 0.375rem;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            resize: vertical;
        }
        .compile-button {
            background-color: #22c55e;
            color: #ffffff;
            border: none;
            border-radius: 0.375rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
        }
        .compile-button:hover {
            background-color: #16a34a;
        }
        .compile-output {
            background-color: #1f2937;
            color: #10b981;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            display: none;
        }
        .compile-output.show {
            display: block;
        }
        .arg-display {
            background-color: #f3f4f6;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
        }
        .arg-box {
            display: inline-block;
            background-color: #e5e7eb;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            padding: 0.5rem;
            margin: 0.25rem;
            font-size: 0.9rem;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 py-8 md:py-12 max-w-4xl">
        
        <!-- Navigation -->
        <a href="../comp1511.html" class="back-button">
            <span>â†</span>
            <span>Back to COMP1511</span>
        </a>

        <!-- Update Notice -->
        <div class="update-notice">
            <h3 class="font-bold text-lg text-[#e07a5f] mb-2">ğŸ¯ ç»¼åˆçŸ¥è¯†æµ‹éªŒ</h3>
            <p class="text-gray-700">æµ‹è¯•å‘½ä»¤è¡Œå‚æ•°ã€æ–‡ä»¶IOã€å†…å­˜ç®¡ç†ç­‰COMP1511æ ¸å¿ƒçŸ¥è¯†ç‚¹çš„ç»¼åˆè¿ç”¨ã€‚</p>
        </div>

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-[#2c2c2c]">COMP1511 - General Quiz</h1>
            <p class="text-xl text-gray-600 mt-2">ç»¼åˆçŸ¥è¯†æµ‹éªŒ</p>
            <p class="text-sm text-gray-500 mt-1">50 questions: 15 easy, 20 medium, 10 hard, 5 extreme</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar" style="width: 0%"></div>
        </div>

        <!-- Stats -->
        <div class="stats-container">
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#e07a5f]" id="scoreDisplay">0/0</h3>
                <p class="text-gray-600">æ€»åˆ†</p>
            </div>
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#22c55e]" id="correctDisplay">0</h3>
                <p class="text-gray-600">æ­£ç¡®</p>
            </div>
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#ef4444]" id="incorrectDisplay">0</h3>
                <p class="text-gray-600">é”™è¯¯</p>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <!-- Questions will be dynamically inserted here -->
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;

        const questions = [
            // Easy Questions (15) - Basic concepts
            {
                type: 'easy',
                question: 'mainå‡½æ•°çš„å‚æ•°argcè¡¨ç¤ºä»€ä¹ˆï¼Ÿ',
                options: [
                    'ç¨‹åºåç§°',
                    'å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°',
                    'ç¨‹åºçš„è¿”å›å€¼',
                    'ç¨‹åºçš„ç‰ˆæœ¬å·'
                ],
                correct: 1,
                explanation: 'argc (argument count) è¡¨ç¤ºä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°æ€»æ•°ï¼ŒåŒ…æ‹¬ç¨‹åºåæœ¬èº«ã€‚'
            },
            {
                type: 'easy',
                question: 'argv[0]é€šå¸¸åŒ…å«ä»€ä¹ˆï¼Ÿ',
                options: [
                    'ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°',
                    'ç¨‹åºå',
                    'å‚æ•°ä¸ªæ•°',
                    'ç©ºå­—ç¬¦ä¸²'
                ],
                correct: 1,
                explanation: 'argv[0] é€šå¸¸åŒ…å«ç¨‹åºçš„åç§°ï¼ˆåŒ…æ‹¬è·¯å¾„ï¼‰ã€‚'
            },
            {
                type: 'easy',
                question: 'æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'int',
                    'char',
                    'char*',
                    'void*'
                ],
                correct: 2,
                explanation: 'æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼ˆchar*ï¼‰ï¼Œå³ä½¿çœ‹èµ·æ¥åƒæ•°å­—ä¹Ÿéœ€è¦è½¬æ¢ã€‚'
            },
            {
                type: 'easy',
                question: 'å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ä½¿ç”¨ä»€ä¹ˆå‡½æ•°ï¼Ÿ',
                options: [
                    'atoi()',
                    'itoa()',
                    'stoi()',
                    'parseInt()'
                ],
                correct: 0,
                explanation: 'atoi() å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ã€‚'
            },
            {
                type: 'easy',
                question: 'æ‰“å¼€æ–‡ä»¶ä½¿ç”¨ä»€ä¹ˆå‡½æ•°ï¼Ÿ',
                options: [
                    'open()',
                    'fopen()',
                    'file_open()',
                    'create()'
                ],
                correct: 1,
                explanation: 'fopen() å‡½æ•°ç”¨äºæ‰“å¼€æ–‡ä»¶ï¼Œè¿”å›FILEæŒ‡é’ˆã€‚'
            },
            {
                type: 'easy',
                question: 'å…³é—­æ–‡ä»¶ä½¿ç”¨ä»€ä¹ˆå‡½æ•°ï¼Ÿ',
                options: [
                    'close()',
                    'fclose()',
                    'file_close()',
                    'end()'
                ],
                correct: 1,
                explanation: 'fclose() å‡½æ•°ç”¨äºå…³é—­æ–‡ä»¶ï¼Œé‡Šæ”¾ç›¸å…³èµ„æºã€‚'
            },
            {
                type: 'easy',
                question: 'malloc()å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'é‡Šæ”¾å†…å­˜',
                    'åˆ†é…å†…å­˜',
                    'é‡æ–°åˆ†é…å†…å­˜',
                    'åˆå§‹åŒ–å†…å­˜'
                ],
                correct: 1,
                explanation: 'malloc() å‡½æ•°ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ã€‚'
            },
            {
                type: 'easy',
                question: 'free()å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'åˆ†é…å†…å­˜',
                    'é‡Šæ”¾å†…å­˜',
                    'æ¸…é›¶å†…å­˜',
                    'å¤åˆ¶å†…å­˜'
                ],
                correct: 1,
                explanation: 'free() å‡½æ•°ç”¨äºé‡Šæ”¾malloc()ç­‰å‡½æ•°åˆ†é…çš„å†…å­˜ã€‚'
            },
            {
                type: 'easy',
                question: 'Cè¯­è¨€ä¸­å­—ç¬¦ä¸²ä»¥ä»€ä¹ˆç»“å°¾ï¼Ÿ',
                options: [
                    'ç©ºæ ¼',
                    '\\n',
                    '\\0',
                    'EOF'
                ],
                correct: 2,
                explanation: 'Cè¯­è¨€ä¸­å­—ç¬¦ä¸²ä»¥nullå­—ç¬¦(\\0)ç»“å°¾ã€‚'
            },
            {
                type: 'easy',
                question: 'printf()å‡½æ•°çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'æ— è¿”å›å€¼',
                    'æ€»æ˜¯0',
                    'æ‰“å°çš„å­—ç¬¦æ•°',
                    'æ€»æ˜¯1'
                ],
                correct: 2,
                explanation: 'printf() è¿”å›æˆåŠŸæ‰“å°çš„å­—ç¬¦æ•°ï¼Œå‡ºé”™æ—¶è¿”å›è´Ÿæ•°ã€‚'
            },
            {
                type: 'easy',
                question: 'scanf()è¯»å–å­—ç¬¦ä¸²æ—¶çš„æ ¼å¼è¯´æ˜ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    '%c',
                    '%s',
                    '%d',
                    '%f'
                ],
                correct: 1,
                explanation: '%s æ˜¯scanf()è¯»å–å­—ç¬¦ä¸²çš„æ ¼å¼è¯´æ˜ç¬¦ã€‚'
            },
            {
                type: 'easy',
                question: 'æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€çš„æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º0',
                    'æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸ºNULL',
                    'æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º-1',
                    'æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º1'
                ],
                correct: 1,
                explanation: 'fopen() å¤±è´¥æ—¶è¿”å›NULLï¼ŒæˆåŠŸæ—¶è¿”å›æœ‰æ•ˆçš„FILEæŒ‡é’ˆã€‚'
            },
            {
                type: 'easy',
                question: 'structå…³é”®å­—ç”¨äºå®šä¹‰ä»€ä¹ˆï¼Ÿ',
                options: [
                    'å‡½æ•°',
                    'å˜é‡',
                    'ç»“æ„ä½“',
                    'æ•°ç»„'
                ],
                correct: 2,
                explanation: 'structå…³é”®å­—ç”¨äºå®šä¹‰ç»“æ„ä½“ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªä¸åŒç±»å‹çš„æˆå‘˜ã€‚'
            },
            {
                type: 'easy',
                question: 'Cè¯­è¨€ä¸­æ³¨é‡Šä½¿ç”¨ä»€ä¹ˆç¬¦å·ï¼Ÿ',
                options: [
                    '// å’Œ /* */',
                    '# å’Œ ##',
                    '-- å’Œ --- ---',
                    'åªæœ‰ /* */'
                ],
                correct: 0,
                explanation: 'Cè¯­è¨€æ”¯æŒä¸¤ç§æ³¨é‡Šï¼š// å•è¡Œæ³¨é‡Š å’Œ /* */ å¤šè¡Œæ³¨é‡Šã€‚'
            },
            {
                type: 'easy',
                question: 'æ•°ç»„ä¸‹æ ‡ä»ä»€ä¹ˆå¼€å§‹ï¼Ÿ',
                options: [
                    '1',
                    '0',
                    '-1',
                    'å¯ä»¥ä»»æ„æŒ‡å®š'
                ],
                correct: 1,
                explanation: 'Cè¯­è¨€æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ã€‚'
            },

            // Medium Questions (20) - Code reading and understanding
            {
                type: 'medium',
                question: 'è¿™ä¸ªç¨‹åºè¿è¡Œæ—¶éœ€è¦å‡ ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Ÿ',
                code: `int main(int argc, char *argv[]) {
    if (argc != 3) {
        printf("Usage: %s <file1> <file2>\\n", argv[0]);
        return 1;
    }
    // program logic
    return 0;
}`,
                options: [
                    '2ä¸ª',
                    '3ä¸ª',
                    '4ä¸ª',
                    'ä»»æ„ä¸ª'
                ],
                correct: 0,
                explanation: 'argc != 3 æ„å‘³ç€éœ€è¦3ä¸ªå‚æ•°ï¼ˆç¨‹åºå+2ä¸ªæ–‡ä»¶åï¼‰ï¼Œå³2ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int main(int argc, char *argv[]) {
    printf("argc = %d\\n", argc);
    return 0;
}
// è¿è¡Œå‘½ä»¤ï¼š./program hello world`,
                options: [
                    'argc = 2',
                    'argc = 3',
                    'argc = 4',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'argcåŒ…å«ç¨‹åºåï¼Œæ‰€ä»¥./program hello worldæœ‰3ä¸ªå‚æ•°ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ',
                code: `int main(int argc, char *argv[]) {
    int num = atoi(argv[1]);
    printf("Number: %d\\n", num);
    return 0;
}`,
                options: [
                    'æ²¡æœ‰æ£€æŸ¥argc',
                    'è¯­æ³•é”™è¯¯',
                    'atoiç”¨æ³•é”™è¯¯',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 0,
                explanation: 'ä»£ç æ²¡æœ‰æ£€æŸ¥argcï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œè®¿é—®argv[1]ä¼šå¯¼è‡´é”™è¯¯ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `void process_args(int argc, char *argv[]) {
    for (int i = 1; i < argc; i++) {
        printf("Arg %d: %s\\n", i, argv[i]);
    }
}`,
                options: [
                    'æ‰“å°ç¨‹åºå',
                    'æ‰“å°æ‰€æœ‰å‚æ•°åŒ…æ‹¬ç¨‹åºå',
                    'æ‰“å°é™¤ç¨‹åºåå¤–çš„æ‰€æœ‰å‚æ•°',
                    'è®¡ç®—å‚æ•°ä¸ªæ•°'
                ],
                correct: 2,
                explanation: 'å¾ªç¯ä»i=1å¼€å§‹ï¼Œè·³è¿‡argv[0]ï¼ˆç¨‹åºåï¼‰ï¼Œåªæ‰“å°å‘½ä»¤è¡Œå‚æ•°ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç æ‰§è¡Œåæ–‡ä»¶æŒ‡é’ˆfpæŒ‡å‘å“ªé‡Œï¼Ÿ',
                code: `FILE *fp = fopen("test.txt", "r");
if (fp != NULL) {
    fgetc(fp);
    fgetc(fp);
}`,
                options: [
                    'æ–‡ä»¶å¼€å¤´',
                    'ç¬¬äºŒä¸ªå­—ç¬¦',
                    'ç¬¬ä¸‰ä¸ªå­—ç¬¦',
                    'æ–‡ä»¶ç»“å°¾'
                ],
                correct: 2,
                explanation: 'æ¯æ¬¡fgetc()è¯»å–ä¸€ä¸ªå­—ç¬¦å¹¶ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆï¼Œä¸¤æ¬¡è°ƒç”¨åæŒ‡å‘ç¬¬ä¸‰ä¸ªå­—ç¬¦ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `char *ptr = malloc(10 * sizeof(char));
if (ptr != NULL) {
    strcpy(ptr, "Hello");
    printf("%s\\n", ptr);
    free(ptr);
}`,
                options: [
                    'ç¼–è¯‘é”™è¯¯',
                    'Hello',
                    'éšæœºå­—ç¬¦',
                    'ç©ºå­—ç¬¦ä¸²'
                ],
                correct: 1,
                explanation: 'mallocåˆ†é…å†…å­˜ï¼Œstrcpyå¤åˆ¶"Hello"ï¼Œprintfè¾“å‡º"Hello"ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªæ¡ä»¶æ£€æŸ¥ä»€ä¹ˆï¼Ÿ',
                code: `FILE *fp = fopen("data.txt", "r");
if (fp == NULL) {
    perror("Error opening file");
    return 1;
}`,
                options: [
                    'æ–‡ä»¶æ˜¯å¦å­˜åœ¨',
                    'æ–‡ä»¶æ˜¯å¦ä¸ºç©º',
                    'æ–‡ä»¶æ˜¯å¦å¯è¯»',
                    'æ–‡ä»¶æ‰“å¼€æ˜¯å¦æˆåŠŸ'
                ],
                correct: 3,
                explanation: 'fopen()å¤±è´¥æ—¶è¿”å›NULLï¼Œè¿™ä¸ªæ£€æŸ¥ç¡®ä¿æ–‡ä»¶æˆåŠŸæ‰“å¼€ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç å¯èƒ½å¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ',
                code: `char buffer[10];
scanf("%s", buffer);`,
                options: [
                    'æ— æ³•è¯»å–è¾“å…¥',
                    'ç¼“å†²åŒºæº¢å‡º',
                    'ç±»å‹ä¸åŒ¹é…',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 1,
                explanation: 'scanf("%s")ä¸æ£€æŸ¥è¾“å…¥é•¿åº¦ï¼Œè¾“å…¥è¶…è¿‡9ä¸ªå­—ç¬¦ä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡ºã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°è¿”å›ä»€ä¹ˆï¼Ÿ',
                code: `int count_lines(char *filename) {
    FILE *fp = fopen(filename, "r");
    if (fp == NULL) return -1;
    
    int lines = 0;
    int c;
    while ((c = fgetc(fp)) != EOF) {
        if (c == '\\n') lines++;
    }
    fclose(fp);
    return lines;
}`,
                options: [
                    'æ–‡ä»¶å¤§å°',
                    'æ–‡ä»¶è¡Œæ•°',
                    'å­—ç¬¦ä¸ªæ•°',
                    'å•è¯ä¸ªæ•°'
                ],
                correct: 1,
                explanation: 'å‡½æ•°è®¡ç®—æ–‡ä»¶ä¸­æ¢è¡Œç¬¦çš„ä¸ªæ•°ï¼Œå³æ–‡ä»¶è¡Œæ•°ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `struct Point {
    int x, y;
};

struct Point create_point(int x, int y) {
    struct Point p;
    p.x = x;
    p.y = y;
    return p;
}`,
                options: [
                    'å®šä¹‰ç‚¹ç»“æ„',
                    'åˆ›å»ºç‚¹å®ä¾‹',
                    'è®¡ç®—è·ç¦»',
                    'ä»¥ä¸Šéƒ½æ˜¯'
                ],
                correct: 1,
                explanation: 'å‡½æ•°åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªPointç»“æ„ä½“å®ä¾‹ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå¾ªç¯æ‰§è¡Œå¤šå°‘æ¬¡ï¼Ÿ',
                code: `char str[] = "Hello";
for (int i = 0; str[i] != '\\0'; i++) {
    printf("%c", str[i]);
}`,
                options: [
                    '4æ¬¡',
                    '5æ¬¡',
                    '6æ¬¡',
                    'æ— é™æ¬¡'
                ],
                correct: 1,
                explanation: '"Hello"æœ‰5ä¸ªå­—ç¬¦ï¼Œå¾ªç¯ä¼šæ‰§è¡Œ5æ¬¡ç›´åˆ°é‡åˆ°\\0ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç æ£€æŸ¥ä»€ä¹ˆï¼Ÿ',
                code: `if (argc > 1 && strcmp(argv[1], "-v") == 0) {
    verbose = 1;
}`,
                options: [
                    'æ˜¯å¦æœ‰å‚æ•°',
                    'æ˜¯å¦æœ‰verboseé€‰é¡¹',
                    'å‚æ•°æ˜¯å¦ä¸ºæ•°å­—',
                    'å‚æ•°ä¸ªæ•°æ˜¯å¦æ­£ç¡®'
                ],
                correct: 1,
                explanation: 'ä»£ç æ£€æŸ¥æ˜¯å¦æä¾›äº†å‚æ•°ï¼Œä¸”ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯"-v"ï¼ˆverboseé€‰é¡¹ï¼‰ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int find_max(int arr[], int size) {
    int max = arr[0];
    for (int i = 1; i < size; i++) {
        if (arr[i] > max) {
            max = arr[i];
        }
    }
    return max;
}`,
                options: [
                    'O(1)',
                    'O(log n)',
                    'O(n)',
                    'O(nÂ²)'
                ],
                correct: 2,
                explanation: 'å‡½æ•°éå†æ•°ç»„ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç å®ç°äº†ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ',
                code: `void copy_file(char *src, char *dst) {
    FILE *source = fopen(src, "r");
    FILE *dest = fopen(dst, "w");
    
    if (source && dest) {
        int c;
        while ((c = fgetc(source)) != EOF) {
            fputc(c, dest);
        }
    }
    
    if (source) fclose(source);
    if (dest) fclose(dest);
}`,
                options: [
                    'åˆ é™¤æ–‡ä»¶',
                    'å¤åˆ¶æ–‡ä»¶',
                    'é‡å‘½åæ–‡ä»¶',
                    'æ¯”è¾ƒæ–‡ä»¶'
                ],
                correct: 1,
                explanation: 'å‡½æ•°é€å­—ç¬¦è¯»å–æºæ–‡ä»¶å¹¶å†™å…¥ç›®æ ‡æ–‡ä»¶ï¼Œå®ç°æ–‡ä»¶å¤åˆ¶ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `char str[] = "Programming";
int len = strlen(str);
printf("%d", len);`,
                options: [
                    '10',
                    '11',
                    '12',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: '"Programming"åŒ…å«11ä¸ªå­—ç¬¦ï¼Œstrlen()è¿”å›11ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int *create_array(int size) {
    int arr[size];
    for (int i = 0; i < size; i++) {
        arr[i] = i;
    }
    return arr;
}`,
                options: [
                    'è¯­æ³•é”™è¯¯',
                    'è¿”å›å±€éƒ¨æ•°ç»„çš„åœ°å€',
                    'æ•°ç»„å¤§å°é”™è¯¯',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 1,
                explanation: 'å±€éƒ¨æ•°ç»„arråœ¨å‡½æ•°ç»“æŸåè¢«é”€æ¯ï¼Œè¿”å›å…¶åœ°å€æ˜¯å±é™©çš„ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªç¨‹åºçš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int main(int argc, char *argv[]) {
    if (argc == 2) {
        FILE *fp = fopen(argv[1], "r");
        if (fp) {
            int c;
            while ((c = fgetc(fp)) != EOF) {
                putchar(c);
            }
            fclose(fp);
        }
    }
    return 0;
}`,
                options: [
                    'åˆ›å»ºæ–‡ä»¶',
                    'åˆ é™¤æ–‡ä»¶',
                    'æ˜¾ç¤ºæ–‡ä»¶å†…å®¹',
                    'å¤åˆ¶æ–‡ä»¶'
                ],
                correct: 2,
                explanation: 'ç¨‹åºè¯»å–å‘½ä»¤è¡ŒæŒ‡å®šçš„æ–‡ä»¶å¹¶æ˜¾ç¤ºå…¶å†…å®¹ï¼Œç±»ä¼¼catå‘½ä»¤ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int arr[] = {1, 2, 3, 4, 5};
int size = sizeof(arr) / sizeof(arr[0]);
printf("%d", size);`,
                options: [
                    '4',
                    '5',
                    '20',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'sizeof(arr)æ˜¯æ•´ä¸ªæ•°ç»„çš„å­—èŠ‚æ•°ï¼Œé™¤ä»¥å•ä¸ªå…ƒç´ å­—èŠ‚æ•°å¾—åˆ°å…ƒç´ ä¸ªæ•°5ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°æ£€æŸ¥ä»€ä¹ˆï¼Ÿ',
                code: `int is_number(char *str) {
    for (int i = 0; str[i] != '\\0'; i++) {
        if (str[i] < '0' || str[i] > '9') {
            return 0;
        }
    }
    return 1;
}`,
                options: [
                    'å­—ç¬¦ä¸²é•¿åº¦',
                    'æ˜¯å¦ä¸ºæ•°å­—å­—ç¬¦ä¸²',
                    'æ˜¯å¦ä¸ºå­—æ¯',
                    'æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²'
                ],
                correct: 1,
                explanation: 'å‡½æ•°æ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦æ˜¯å¦éƒ½æ˜¯æ•°å­—å­—ç¬¦(0-9)ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç å®ç°äº†ä»€ä¹ˆæ’åºç®—æ³•ï¼Ÿ',
                code: `void sort_array(int arr[], int n) {
    for (int i = 0; i < n-1; i++) {
        for (int j = 0; j < n-i-1; j++) {
            if (arr[j] > arr[j+1]) {
                int temp = arr[j];
                arr[j] = arr[j+1];
                arr[j+1] = temp;
            }
        }
    }
}`,
                options: [
                    'é€‰æ‹©æ’åº',
                    'æ’å…¥æ’åº',
                    'å†’æ³¡æ’åº',
                    'å¿«é€Ÿæ’åº'
                ],
                correct: 2,
                explanation: 'åŒé‡å¾ªç¯æ¯”è¾ƒç›¸é‚»å…ƒç´ å¹¶äº¤æ¢ï¼Œè¿™æ˜¯å†’æ³¡æ’åºçš„ç‰¹å¾ã€‚'
            },

            // Hard Questions (10) - Interactive simulators
            {
                type: 'hard',
                question: 'å‘½ä»¤è¡Œè§£ææ¨¡æ‹Ÿï¼šè¾“å…¥å‘½ä»¤å¹¶è§‚å¯Ÿargcå’Œargvçš„è§£æç»“æœ',
                interactive: true,
                simulation: 'command_parsing',
                sampleCommands: [
                    './program file.txt',
                    './calc 5 + 3',
                    './grep -n "hello" data.txt'
                ],
                options: [
                    'argcåŒ…å«æ‰€æœ‰ç©ºæ ¼åˆ†éš”çš„éƒ¨åˆ†',
                    'argcåªåŒ…å«æ–‡ä»¶å',
                    'argcåŒ…å«ç¨‹åºåå’Œå‚æ•°',
                    'argcä¸åŒ…å«ç¨‹åºå'
                ],
                correct: 2,
                explanation: 'argcåŒ…å«ç¨‹åºååœ¨å†…çš„æ‰€æœ‰å‚æ•°ä¸ªæ•°ï¼Œæ¯ä¸ªç©ºæ ¼åˆ†éš”çš„éƒ¨åˆ†éƒ½æ˜¯ä¸€ä¸ªå‚æ•°ã€‚'
            },
            {
                type: 'hard',
                question: 'æ–‡ä»¶æ“ä½œæ¨¡æ‹Ÿï¼šè§‚å¯Ÿæ–‡ä»¶è¯»å†™æ“ä½œçš„æ‰§è¡Œè¿‡ç¨‹',
                interactive: true,
                simulation: 'file_operations',
                operations: ['fopen', 'fread', 'fwrite', 'fclose'],
                options: [
                    'æ–‡ä»¶æŒ‡é’ˆè‡ªåŠ¨ç®¡ç†ä½ç½®',
                    'æ¯æ¬¡æ“ä½œéœ€è¦æ‰‹åŠ¨è®¾ç½®ä½ç½®',
                    'æ–‡ä»¶æŒ‡é’ˆä½ç½®ä¸ä¼šæ”¹å˜',
                    'åªæœ‰fseekèƒ½æ”¹å˜ä½ç½®'
                ],
                correct: 0,
                explanation: 'æ–‡ä»¶æŒ‡é’ˆä¼šè‡ªåŠ¨è·Ÿè¸ªå½“å‰ä½ç½®ï¼Œè¯»å†™æ“ä½œä¼šè‡ªåŠ¨ç§»åŠ¨æŒ‡é’ˆã€‚'
            },
            {
                type: 'hard',
                question: 'å†…å­˜åˆ†é…æ¨¡æ‹Ÿï¼šè§‚å¯Ÿmallocå’Œfreeçš„å†…å­˜ç®¡ç†è¿‡ç¨‹',
                interactive: true,
                simulation: 'memory_management',
                operations: ['malloc', 'use_memory', 'free', 'access_after_free'],
                options: [
                    'freeåå†…å­˜ç«‹å³è¢«æ¸…é›¶',
                    'freeåæŒ‡é’ˆè‡ªåŠ¨ç½®NULL',
                    'freeåå†…å­˜å†…å®¹æœªå®šä¹‰',
                    'freeåå¯ä»¥ç»§ç»­å®‰å…¨ä½¿ç”¨'
                ],
                correct: 2,
                explanation: 'free()åªæ˜¯æ ‡è®°å†…å­˜å¯ç”¨ï¼Œä¸æ¸…é›¶å†…å®¹ï¼ŒæŒ‡é’ˆæˆä¸ºé‡æŒ‡é’ˆï¼Œç»§ç»­ä½¿ç”¨æ˜¯å±é™©çš„ã€‚'
            },
            {
                type: 'hard',
                question: 'å­—ç¬¦ä¸²å¤„ç†æ¨¡æ‹Ÿï¼šè§‚å¯Ÿå­—ç¬¦ä¸²å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹',
                interactive: true,
                simulation: 'string_processing',
                functions: ['strlen', 'strcpy', 'strcat', 'strcmp'],
                options: [
                    'å­—ç¬¦ä¸²å‡½æ•°ä¸æ£€æŸ¥è¾¹ç•Œ',
                    'å­—ç¬¦ä¸²å‡½æ•°è‡ªåŠ¨åˆ†é…å†…å­˜',
                    'å­—ç¬¦ä¸²å‡½æ•°å¤„ç†Unicode',
                    'å­—ç¬¦ä¸²å‡½æ•°çº¿ç¨‹å®‰å…¨'
                ],
                correct: 0,
                explanation: 'å¤§å¤šæ•°Cå­—ç¬¦ä¸²å‡½æ•°ä¸æ£€æŸ¥è¾¹ç•Œï¼Œå¯èƒ½å¯¼è‡´ç¼“å†²åŒºæº¢å‡ºã€‚'
            },
            {
                type: 'hard',
                question: 'ç»“æ„ä½“æ“ä½œæ¨¡æ‹Ÿï¼šè§‚å¯Ÿç»“æ„ä½“çš„åˆ›å»ºå’Œè®¿é—®è¿‡ç¨‹',
                interactive: true,
                simulation: 'struct_operations',
                operations: ['create_struct', 'access_member', 'modify_member', 'copy_struct'],
                options: [
                    'ç»“æ„ä½“æˆå‘˜è¿ç»­å­˜å‚¨',
                    'ç»“æ„ä½“æˆå‘˜å¯ä»¥ä¹±åºå­˜å‚¨',
                    'ç»“æ„ä½“å¤§å°ç­‰äºæˆå‘˜å¤§å°ä¹‹å’Œ',
                    'ç»“æ„ä½“è‡ªåŠ¨åˆå§‹åŒ–'
                ],
                correct: 0,
                explanation: 'ç»“æ„ä½“æˆå‘˜åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œä½†å¯èƒ½æœ‰å­—èŠ‚å¯¹é½å¡«å……ã€‚'
            },
            {
                type: 'hard',
                question: 'æ•°ç»„æ“ä½œæ¨¡æ‹Ÿï¼šè§‚å¯Ÿæ•°ç»„ç´¢å¼•å’Œè¾¹ç•Œæ£€æŸ¥',
                interactive: true,
                simulation: 'array_operations',
                operations: ['access_valid', 'access_boundary', 'access_overflow'],
                options: [
                    'Cè¯­è¨€è‡ªåŠ¨æ£€æŸ¥æ•°ç»„è¾¹ç•Œ',
                    'æ•°ç»„è¶Šç•Œä¼šç«‹å³æŠ¥é”™',
                    'æ•°ç»„è¶Šç•Œæ˜¯æœªå®šä¹‰è¡Œä¸º',
                    'æ•°ç»„è¶Šç•Œæ€»æ˜¯å®‰å…¨çš„'
                ],
                correct: 2,
                explanation: 'Cè¯­è¨€ä¸æ£€æŸ¥æ•°ç»„è¾¹ç•Œï¼Œè¶Šç•Œè®¿é—®æ˜¯æœªå®šä¹‰è¡Œä¸ºï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒã€‚'
            },
            {
                type: 'hard',
                question: 'å‡½æ•°è°ƒç”¨æ¨¡æ‹Ÿï¼šè§‚å¯Ÿå‚æ•°ä¼ é€’å’Œè¿”å›å€¼çš„è¿‡ç¨‹',
                interactive: true,
                simulation: 'function_calls',
                call_types: ['pass_by_value', 'pass_by_reference', 'return_value'],
                options: [
                    'æ‰€æœ‰å‚æ•°éƒ½æ˜¯ä¼ å¼•ç”¨',
                    'Cè¯­è¨€é»˜è®¤ä¼ å€¼è°ƒç”¨',
                    'æ•°ç»„æ€»æ˜¯ä¼ å€¼',
                    'ç»“æ„ä½“æ€»æ˜¯ä¼ å¼•ç”¨'
                ],
                correct: 1,
                explanation: 'Cè¯­è¨€é»˜è®¤ä½¿ç”¨ä¼ å€¼è°ƒç”¨ï¼Œè¦ä¼ å¼•ç”¨éœ€è¦æ˜¾å¼ä½¿ç”¨æŒ‡é’ˆã€‚'
            },
            {
                type: 'hard',
                question: 'é”™è¯¯å¤„ç†æ¨¡æ‹Ÿï¼šè§‚å¯Ÿä¸åŒé”™è¯¯çš„äº§ç”Ÿå’Œå¤„ç†',
                interactive: true,
                simulation: 'error_handling',
                error_types: ['null_pointer', 'file_not_found', 'memory_leak', 'buffer_overflow'],
                options: [
                    'Cè¯­è¨€æœ‰è‡ªåŠ¨å¼‚å¸¸å¤„ç†',
                    'æ‰€æœ‰é”™è¯¯éƒ½ä¼šç»ˆæ­¢ç¨‹åº',
                    'é”™è¯¯å¤„ç†éœ€è¦æ‰‹åŠ¨æ£€æŸ¥',
                    'ç¼–è¯‘å™¨ä¼šä¿®å¤æ‰€æœ‰é”™è¯¯'
                ],
                correct: 2,
                explanation: 'Cè¯­è¨€æ²¡æœ‰å¼‚å¸¸æœºåˆ¶ï¼Œéœ€è¦æ‰‹åŠ¨æ£€æŸ¥è¿”å›å€¼å’ŒçŠ¶æ€æ¥å¤„ç†é”™è¯¯ã€‚'
            },
            {
                type: 'hard',
                question: 'é€’å½’è°ƒç”¨æ¨¡æ‹Ÿï¼šè§‚å¯Ÿé€’å½’å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹',
                interactive: true,
                simulation: 'recursion',
                function: 'factorial',
                input: 5,
                options: [
                    'é€’å½’æ·±åº¦æ— é™åˆ¶',
                    'é€’å½’ä¼šå¯¼è‡´æ ˆæº¢å‡º',
                    'é€’å½’æ¯”å¾ªç¯æ›´å¿«',
                    'é€’å½’è‡ªåŠ¨ä¼˜åŒ–ä¸ºå¾ªç¯'
                ],
                correct: 1,
                explanation: 'é€’å½’è°ƒç”¨ä¼šå ç”¨æ ˆç©ºé—´ï¼Œæ·±åº¦è¿‡å¤§å¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºã€‚'
            },
            {
                type: 'hard',
                question: 'é¢„å¤„ç†æ¨¡æ‹Ÿï¼šè§‚å¯Ÿå®å®šä¹‰å’Œæ¡ä»¶ç¼–è¯‘çš„è¿‡ç¨‹',
                interactive: true,
                simulation: 'preprocessing',
                directives: ['#define', '#ifdef', '#include'],
                options: [
                    'å®åœ¨è¿è¡Œæ—¶å±•å¼€',
                    'å®åœ¨ç¼–è¯‘æ—¶å±•å¼€',
                    'å®æœ‰ç±»å‹æ£€æŸ¥',
                    'å®æ”¯æŒé€’å½’å®šä¹‰'
                ],
                correct: 1,
                explanation: 'å®åœ¨é¢„å¤„ç†é˜¶æ®µï¼ˆç¼–è¯‘å‰ï¼‰è¿›è¡Œæ–‡æœ¬æ›¿æ¢ï¼Œæ²¡æœ‰ç±»å‹æ£€æŸ¥ã€‚'
            },

            // Extreme Questions (5) - Programming with compilation simulation
            {
                type: 'extreme',
                question: 'å®ç°å‘½ä»¤è¡Œå‚æ•°è§£æå™¨ï¼šè§£æç¨‹åºé€‰é¡¹å’Œå‚æ•°',
                template: `int parse_arguments(int argc, char *argv[], int *verbose, char **output_file) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. éå†æ‰€æœ‰å‚æ•°
     * 2. æ£€æŸ¥-vé€‰é¡¹è®¾ç½®verbose
     * 3. æ£€æŸ¥-oé€‰é¡¹è®¾ç½®output_file
     * 4. è¿”å›å¤„ç†çš„å‚æ•°ä¸ªæ•°
     */
    
}`,
                correctKeywords: ['for', 'strcmp', 'argv', 'verbose', 'output_file', 'return'],
                testCases: [
                    { input: 'parse_arguments(4, ["prog", "-v", "-o", "out.txt"])', expected: 'verbose=1, output_file="out.txt"' },
                    { input: 'parse_arguments(2, ["prog", "-v"])', expected: 'verbose=1, output_file=NULL' }
                ],
                explanation: 'å‘½ä»¤è¡Œè§£æéœ€è¦éå†å‚æ•°ï¼Œè¯†åˆ«é€‰é¡¹æ ‡å¿—ï¼Œå¹¶è®¾ç½®ç›¸åº”çš„å˜é‡ã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°æ–‡ä»¶å¤åˆ¶ç¨‹åºï¼šå®Œæ•´çš„æ–‡ä»¶å¤åˆ¶åŠŸèƒ½',
                template: `int copy_file(char *source_path, char *dest_path) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. æ‰“å¼€æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶
     * 2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€
     * 3. é€å­—ç¬¦æˆ–é€å—å¤åˆ¶
     * 4. å…³é—­æ–‡ä»¶å¹¶è¿”å›çŠ¶æ€
     */
    
}`,
                correctKeywords: ['fopen', 'fgetc', 'fputc', 'fclose', 'if', 'while', 'EOF'],
                testCases: [
                    { input: 'copy_file("input.txt", "output.txt")', expected: 'File copied successfully' },
                    { input: 'copy_file("nonexistent.txt", "out.txt")', expected: 'Source file not found' }
                ],
                explanation: 'æ–‡ä»¶å¤åˆ¶éœ€è¦æ­£ç¡®å¤„ç†æ–‡ä»¶æ‰“å¼€ã€è¯»å†™å’Œå…³é—­ï¼Œä»¥åŠé”™è¯¯æ£€æŸ¥ã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°ç®€å•çš„æ–‡æœ¬ç»Ÿè®¡å·¥å…·ï¼šç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ã€å•è¯æ•°å’Œå­—ç¬¦æ•°',
                template: `void count_file_stats(char *filename, int *lines, int *words, int *chars) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. æ‰“å¼€æ–‡ä»¶
     * 2. é€å­—ç¬¦è¯»å–å¹¶è®¡æ•°
     * 3. è¯†åˆ«æ¢è¡Œç¬¦ã€ç©ºæ ¼å’Œå•è¯è¾¹ç•Œ
     * 4. æ›´æ–°ç»Ÿè®¡æ•°æ®
     */
    
}`,
                correctKeywords: ['fopen', 'fgetc', 'lines', 'words', 'chars', 'isspace', 'while'],
                testCases: [
                    { input: 'count_file_stats("test.txt")', expected: 'lines=5, words=20, chars=100' },
                    { input: 'count_file_stats("empty.txt")', expected: 'lines=0, words=0, chars=0' }
                ],
                explanation: 'æ–‡æœ¬ç»Ÿè®¡éœ€è¦å‡†ç¡®è¯†åˆ«è¡Œã€å•è¯å’Œå­—ç¬¦çš„è¾¹ç•Œï¼Œæ­£ç¡®è®¡æ•°ã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°åŠ¨æ€å­—ç¬¦ä¸²æ•°ç»„ï¼šç®¡ç†å¯å˜å¤§å°çš„å­—ç¬¦ä¸²åˆ—è¡¨',
                template: `typedef struct {
    char **strings;
    int count;
    int capacity;
} StringArray;

int add_string(StringArray *arr, char *str) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å±•å®¹é‡
     * 2. é‡æ–°åˆ†é…å†…å­˜ï¼ˆå¦‚æœéœ€è¦ï¼‰
     * 3. å¤åˆ¶å­—ç¬¦ä¸²åˆ°æ•°ç»„
     * 4. æ›´æ–°è®¡æ•°å™¨
     */
    
}`,
                correctKeywords: ['malloc', 'realloc', 'strcpy', 'strings', 'count', 'capacity'],
                testCases: [
                    { input: 'add_string(&arr, "hello")', expected: 'String added, count=1' },
                    { input: 'add_string(&arr, "world")', expected: 'String added, count=2' }
                ],
                explanation: 'åŠ¨æ€æ•°ç»„éœ€è¦ç®¡ç†å†…å­˜åˆ†é…ã€å®¹é‡æ‰©å±•å’Œå­—ç¬¦ä¸²å¤åˆ¶ã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°ç®€å•çš„é…ç½®æ–‡ä»¶è§£æå™¨ï¼šè§£ækey=valueæ ¼å¼çš„é…ç½®',
                template: `typedef struct {
    char key[100];
    char value[200];
} ConfigItem;

int parse_config_line(char *line, ConfigItem *item) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. æŸ¥æ‰¾ç­‰å·ä½ç½®
     * 2. åˆ†ç¦»keyå’Œvalue
     * 3. å»é™¤ç©ºç™½å­—ç¬¦
     * 4. å­˜å‚¨åˆ°ç»“æ„ä½“ä¸­
     */
    
}`,
                correctKeywords: ['strchr', 'strncpy', 'key', 'value', 'while', 'isspace'],
                testCases: [
                    { input: 'parse_config_line("debug=true")', expected: 'key="debug", value="true"' },
                    { input: 'parse_config_line("port = 8080")', expected: 'key="port", value="8080"' }
                ],
                explanation: 'é…ç½®è§£æéœ€è¦æ­£ç¡®åˆ†ç¦»é”®å€¼å¯¹ï¼Œå¤„ç†ç©ºç™½å­—ç¬¦å’Œç‰¹æ®Šæƒ…å†µã€‚'
            }
        ];

        function displayQuestion(index) {
            const question = questions[index];
            const container = document.getElementById('quizContainer');
            
            let difficultyClass = '';
            let difficultyText = '';
            
            switch(question.type) {
                case 'easy':
                    difficultyClass = 'difficulty-easy';
                    difficultyText = 'ç®€å•';
                    break;
                case 'medium':
                    difficultyClass = 'difficulty-medium';
                    difficultyText = 'æ™®é€š';
                    break;
                case 'hard':
                    difficultyClass = 'difficulty-hard';
                    difficultyText = 'å›°éš¾';
                    break;
                case 'extreme':
                    difficultyClass = 'difficulty-extreme';
                    difficultyText = 'è¶…éš¾';
                    break;
            }

            let questionContent = '';
            
            if (question.type === 'extreme') {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        <div class="code-block">${question.template}</div>
                        
                        <textarea class="code-editor" id="code-${index}" placeholder="åœ¨è¿™é‡Œç¼–å†™æ‚¨çš„ä»£ç ..."></textarea>
                        
                        <button class="compile-button" onclick="simulateCompilation(${index})">
                            ğŸ”¨ æ¨¡æ‹Ÿç¼–è¯‘ä¸è¿è¡Œ
                        </button>
                        
                        <div class="compile-output" id="output-${index}"></div>
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            } else if (question.interactive) {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        <div class="terminal-simulator" id="simulator-${index}">
                            <div class="mb-4">
                                <strong>$ </strong><span id="prompt-${index}">è¾“å…¥å‘½ä»¤è¿›è¡Œæ¨¡æ‹Ÿ</span>
                                <input type="text" class="terminal-input" id="terminal-input-${index}" placeholder="ä¾‹å¦‚: ./program arg1 arg2">
                            </div>
                            <button class="simulator-button" onclick="runTerminalSimulation(${index})">
                                æ‰§è¡Œå‘½ä»¤
                            </button>
                            <div id="terminal-output-${index}" class="mt-4"></div>
                        </div>
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            } else {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        ${question.code ? `<div class="code-block">${question.code}</div>` : ''}
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML += questionContent;
        }

        function runTerminalSimulation(index) {
            const command = document.getElementById(`terminal-input-${index}`).value.trim();
            const outputElement = document.getElementById(`terminal-output-${index}`);
            
            if (!command) {
                outputElement.innerHTML = '<div style="color: #ef4444; padding: 0.5rem;">âš ï¸ è¯·è¾“å…¥å‘½ä»¤</div>';
                return;
            }
            
            const args = command.split(/\s+/);
            const argc = args.length;
            
            outputElement.innerHTML = `
                <div style="margin-top: 1rem;">
                    <div style="color: #22c55e; font-weight: bold; margin-bottom: 0.5rem;">âœ… å‘½ä»¤è§£æå®Œæˆ:</div>
                    <div class="arg-display">
                        <div style="margin-bottom: 1rem; padding: 0.5rem; background-color: #f3f4f6; border-radius: 0.25rem;">
                            <strong style="color: #e07a5f;">argc = ${argc}</strong>
                            <span style="color: #666; margin-left: 1rem;">(å‚æ•°æ€»æ•°ï¼ŒåŒ…æ‹¬ç¨‹åºå)</span>
                        </div>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${args.map((arg, i) => 
                                `<div class="arg-box" style="background-color: ${i === 0 ? '#e0f2fe' : '#f0fdf4'};">
                                    argv[${i}] = "${arg}"
                                    ${i === 0 ? '<br><small style="color: #666;">(ç¨‹åºå)</small>' : `<br><small style="color: #666;">(å‚æ•°${i})</small>`}
                                </div>`
                            ).join('')}
                        </div>
                        <div style="margin-top: 1rem; padding: 0.75rem; background-color: #fefce8; border-radius: 0.25rem; border-left: 4px solid #f59e0b;">
                            <strong>ğŸ’¡ è§£æè¯´æ˜:</strong><br>
                            â€¢ argcåŒ…å«ç¨‹åºååœ¨å†…çš„æ‰€æœ‰å‚æ•°ä¸ªæ•°<br>
                            â€¢ argv[0]æ€»æ˜¯ç¨‹åºå<br>
                            â€¢ ç©ºæ ¼åˆ†éš”çš„æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‚æ•°
                        </div>
                    </div>
                </div>
            `;
        }

        function simulateCompilation(index) {
            const question = questions[index];
            const code = document.getElementById(`code-${index}`).value;
            const outputElement = document.getElementById(`output-${index}`);
            
            outputElement.classList.add('show');
            outputElement.innerHTML = '';
            
            const steps = [
                '> gcc student_code.c -o student_program',
                '> Compiling...',
                '> Syntax check...',
                '> Linking...',
                '> Running test cases...'
            ];
            
            let stepIndex = 0;
            const interval = setInterval(() => {
                outputElement.innerHTML += steps[stepIndex] + '\n';
                stepIndex++;
                
                if (stepIndex >= steps.length) {
                    clearInterval(interval);
                    
                    const keywordCount = question.correctKeywords.filter(keyword => 
                        code.toLowerCase().includes(keyword.toLowerCase())
                    ).length;
                    
                    let result = '';
                    if (keywordCount >= question.correctKeywords.length * 0.8) {
                        result = '> ç¼–è¯‘æˆåŠŸï¼\n> æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼\n> ç»“æœï¼šå®Œå…¨æ­£ç¡® âœ…';
                    } else if (keywordCount >= question.correctKeywords.length * 0.5) {
                        result = '> ç¼–è¯‘æˆåŠŸï¼\n> éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹é€šè¿‡\n> ç»“æœï¼šéƒ¨åˆ†æ­£ç¡® âš ï¸';
                    } else {
                        result = '> ç¼–è¯‘å¤±è´¥ï¼\n> è¯­æ³•é”™è¯¯æˆ–é€»è¾‘é”™è¯¯\n> ç»“æœï¼šç¼–è¯‘å¤±è´¥ âŒ';
                    }
                    
                    setTimeout(() => {
                        outputElement.innerHTML += '\n' + result;
                    }, 1000);
                }
            }, 800);
        }

        function selectAnswer(questionIndex, selectedOption) {
            const question = questions[questionIndex];
            const questionCard = document.getElementById(`question-${questionIndex}`);
            const explanation = document.getElementById(`explanation-${questionIndex}`);
            
            for (let i = 0; i < question.options.length; i++) {
                const optionButton = document.getElementById(`option-${questionIndex}-${i}`);
                optionButton.classList.add('disabled');
                
                if (i === question.correct) {
                    optionButton.classList.add('correct');
                }
                if (i === selectedOption && i !== question.correct) {
                    optionButton.classList.add('incorrect');
                }
            }
            
            explanation.classList.add('show');
            
            if (selectedOption === question.correct) {
                questionCard.classList.add('answered-correct');
                correctAnswers++;
            } else {
                questionCard.classList.add('answered-incorrect');
                incorrectAnswers++;
            }
            
            updateScore();
            updateProgress();
            currentQuestion++;
        }

        function updateScore() {
            const totalAnswered = correctAnswers + incorrectAnswers;
            document.getElementById('scoreDisplay').textContent = `${correctAnswers}/${totalAnswered}`;
            document.getElementById('correctDisplay').textContent = correctAnswers;
            document.getElementById('incorrectDisplay').textContent = incorrectAnswers;
        }

        function updateProgress() {
            const totalAnswered = correctAnswers + incorrectAnswers;
            const progressPercentage = (totalAnswered / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progressPercentage}%`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            questions.forEach((_, index) => {
                displayQuestion(index);
            });
            updateScore();
        });
    </script>
</body>
</html> 