<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMP1511 - Pointers Quiz | Programming Fundamentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
            background-color: #f8f7f2;
            color: #2c2c2c;
            line-height: 1.6;
        }
        .quiz-container {
            background-color: #ffffff;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 2rem;
        }
        .question-card {
            background-color: #f8f7f2;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .question-card.answered-correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .question-card.answered-incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .option-button {
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            background-color: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .option-button:hover:not(.disabled) {
            border-color: #e07a5f;
            transform: translateX(5px);
        }
        .option-button.correct {
            border-color: #22c55e;
            background-color: #dcfce7;
        }
        .option-button.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
        }
        .option-button.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #e0f2fe;
            border-left: 4px solid #0ea5e9;
            border-radius: 0 0.375rem 0.375rem 0;
            display: none;
        }
        .explanation.show {
            display: block;
        }
        .difficulty-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .difficulty-easy {
            background-color: #dcfce7;
            color: #166534;
        }
        .difficulty-medium {
            background-color: #fed7aa;
            color: #9a3412;
        }
        .difficulty-hard {
            background-color: #ddd6fe;
            color: #5b21b6;
        }
        .difficulty-extreme {
            background-color: #fecaca;
            color: #991b1b;
        }
        .progress-bar {
            width: 100%;
            height: 1rem;
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #e07a5f 0%, #f4a261 100%);
            transition: width 0.3s ease;
        }
        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .stat-card {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            box-shadow: 0 2px 4px -1px rgb(0 0 0 / 0.1);
        }
        .back-button {
            background-color: #f8f7f2;
            color: #2c2c2c;
            border: 2px solid #e07a5f;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        .back-button:hover {
            background-color: #e07a5f;
            color: #ffffff;
            transform: translateY(-2px);
        }
        .update-notice {
            background-color: #fff7ed;
            border: 2px solid #f4a261;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .section-header {
            background: linear-gradient(135deg, #e07a5f 0%, #f4a261 100%);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 2rem 0 1rem 0;
            text-align: center;
        }
        .code-block {
            background-color: #2c2c2c;
            color: #ffffff;
            padding: 1rem;
            border-radius: 0.375rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .memory-simulator {
            background-color: #f8f9fa;
            border: 2px dashed #e07a5f;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .memory-block {
            display: inline-block;
            border: 2px solid #e07a5f;
            border-radius: 0.375rem;
            margin: 0.5rem;
            background-color: #ffffff;
        }
        .memory-address {
            padding: 0.5rem;
            background-color: #8b8589;
            color: #ffffff;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            text-align: center;
            border-bottom: 1px solid #666;
        }
        .memory-value {
            padding: 0.75rem;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }
        .pointer-visual {
            display: inline-block;
            background-color: #f4a261;
            color: #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            margin: 0.5rem;
            font-family: 'Courier New', monospace;
        }
        .simulator-button {
            background-color: #e07a5f;
            color: #ffffff;
            border: none;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .simulator-button:hover {
            background-color: #d06850;
        }
        .simulator-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .code-editor {
            width: 100%;
            min-height: 150px;
            background-color: #2c2c2c;
            color: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 0.375rem;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            resize: vertical;
        }
        .compile-button {
            background-color: #22c55e;
            color: #ffffff;
            border: none;
            border-radius: 0.375rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
        }
        .compile-button:hover {
            background-color: #16a34a;
        }
        .compile-output {
            background-color: #1f2937;
            color: #10b981;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            display: none;
        }
        .compile-output.show {
            display: block;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 py-8 md:py-12 max-w-4xl">
        
        <!-- Navigation -->
        <a href="../comp1511.html" class="back-button">
            <span>â†</span>
            <span>Back to COMP1511</span>
        </a>

        <!-- Update Notice -->
        <div class="update-notice">
            <h3 class="font-bold text-lg text-[#e07a5f] mb-2">ğŸ“ æŒ‡é’ˆä¸“é¡¹æµ‹éªŒ</h3>
            <p class="text-gray-700">æ·±å…¥æµ‹è¯•æ‚¨å¯¹æŒ‡é’ˆæ¦‚å¿µçš„ç†è§£ï¼ŒåŒ…å«å†…å­˜åœ°å€ã€è§£å¼•ç”¨ã€æŒ‡é’ˆç®—æœ¯å’Œåº”ç”¨å®è·µã€‚</p>
        </div>

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-[#2c2c2c]">COMP1511 - Pointers Quiz</h1>
            <p class="text-xl text-gray-600 mt-2">æŒ‡é’ˆä¸“é¡¹æµ‹éªŒ</p>
            <p class="text-sm text-gray-500 mt-1">50 questions: 15 easy, 20 medium, 10 hard, 5 extreme</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar" style="width: 0%"></div>
        </div>

        <!-- Stats -->
        <div class="stats-container">
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#e07a5f]" id="scoreDisplay">0/0</h3>
                <p class="text-gray-600">æ€»åˆ†</p>
            </div>
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#22c55e]" id="correctDisplay">0</h3>
                <p class="text-gray-600">æ­£ç¡®</p>
            </div>
            <div class="stat-card">
                <h3 class="text-2xl font-bold text-[#ef4444]" id="incorrectDisplay">0</h3>
                <p class="text-gray-600">é”™è¯¯</p>
            </div>
        </div>

        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <!-- Questions will be dynamically inserted here -->
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;

        const questions = [
            // Easy Questions (15)
            {
                type: 'easy',
                question: 'ä»€ä¹ˆæ˜¯æŒ‡é’ˆï¼Ÿ',
                options: [
                    'ä¸€ç§å­˜å‚¨æ•°æ®å€¼çš„å˜é‡',
                    'ä¸€ç§å­˜å‚¨å†…å­˜åœ°å€çš„å˜é‡',
                    'ä¸€ç§å‡½æ•°ç±»å‹',
                    'ä¸€ç§å¾ªç¯ç»“æ„'
                ],
                correct: 1,
                explanation: 'æŒ‡é’ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒå­˜å‚¨çš„æ˜¯å…¶ä»–å˜é‡çš„å†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯æ•°æ®å€¼æœ¬èº«ã€‚'
            },
            {
                type: 'easy',
                question: 'å–åœ°å€æ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    '*',
                    '&',
                    '%',
                    '#'
                ],
                correct: 1,
                explanation: 'å–åœ°å€æ“ä½œç¬¦æ˜¯&ï¼Œç”¨äºè·å–å˜é‡çš„å†…å­˜åœ°å€ã€‚'
            },
            {
                type: 'easy',
                question: 'è§£å¼•ç”¨æ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    '&',
                    '*',
                    '->', 
                    '.'
                ],
                correct: 1,
                explanation: 'è§£å¼•ç”¨æ“ä½œç¬¦æ˜¯*ï¼Œç”¨äºè®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜åœ°å€ä¸­å­˜å‚¨çš„å€¼ã€‚'
            },
            {
                type: 'easy',
                question: 'å£°æ˜ä¸€ä¸ªæŒ‡å‘intç±»å‹çš„æŒ‡é’ˆçš„æ­£ç¡®è¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'int ptr;',
                    'int *ptr;',
                    'ptr *int;',
                    '*int ptr;'
                ],
                correct: 1,
                explanation: 'å£°æ˜æŒ‡é’ˆçš„è¯­æ³•æ˜¯ï¼šæ•°æ®ç±»å‹ *æŒ‡é’ˆåï¼Œæ‰€ä»¥int *ptræ˜¯æ­£ç¡®çš„ã€‚'
            },
            {
                type: 'easy',
                question: 'NULLæŒ‡é’ˆè¡¨ç¤ºä»€ä¹ˆï¼Ÿ',
                options: [
                    'æŒ‡å‘0åœ°å€',
                    'æœªåˆå§‹åŒ–çš„æŒ‡é’ˆ',
                    'ä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆå†…å­˜ä½ç½®',
                    'æŒ‡å‘è‡ªå·±'
                ],
                correct: 2,
                explanation: 'NULLæŒ‡é’ˆæ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œè¡¨ç¤ºæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆçš„å†…å­˜ä½ç½®ã€‚'
            },
            {
                type: 'easy',
                question: 'åœ¨32ä½ç³»ç»Ÿä¸­ï¼ŒæŒ‡é’ˆé€šå¸¸å ç”¨å¤šå°‘å­—èŠ‚ï¼Ÿ',
                options: [
                    '2å­—èŠ‚',
                    '4å­—èŠ‚',
                    '8å­—èŠ‚',
                    '1å­—èŠ‚'
                ],
                correct: 1,
                explanation: 'åœ¨32ä½ç³»ç»Ÿä¸­ï¼Œå†…å­˜åœ°å€æ˜¯32ä½ï¼Œæ‰€ä»¥æŒ‡é’ˆé€šå¸¸å ç”¨4å­—èŠ‚ã€‚'
            },
            {
                type: 'easy',
                question: 'é‡æŒ‡é’ˆæ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'NULLæŒ‡é’ˆ',
                    'æŒ‡å‘æœªçŸ¥æˆ–æ— æ•ˆå†…å­˜ä½ç½®çš„æŒ‡é’ˆ',
                    'æœªå£°æ˜çš„æŒ‡é’ˆ',
                    'æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ'
                ],
                correct: 1,
                explanation: 'é‡æŒ‡é’ˆæ˜¯æŒ‡å‘æœªçŸ¥æˆ–æ— æ•ˆå†…å­˜ä½ç½®çš„æŒ‡é’ˆï¼Œä½¿ç”¨é‡æŒ‡é’ˆå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒã€‚'
            },
            {
                type: 'easy',
                question: 'å¦‚ä½•é¿å…é‡æŒ‡é’ˆï¼Ÿ',
                options: [
                    'ä¸ä½¿ç”¨æŒ‡é’ˆ',
                    'åˆå§‹åŒ–æŒ‡é’ˆå¹¶åœ¨é‡Šæ”¾åè®¾ä¸ºNULL',
                    'åªä½¿ç”¨å…¨å±€æŒ‡é’ˆ',
                    'ä¸é‡Šæ”¾å†…å­˜'
                ],
                correct: 1,
                explanation: 'é¿å…é‡æŒ‡é’ˆçš„æ–¹æ³•æ˜¯ï¼šåˆå§‹åŒ–æŒ‡é’ˆï¼Œä½¿ç”¨åè®¾ä¸ºNULLï¼Œä¸è¦ä½¿ç”¨å·²é‡Šæ”¾çš„æŒ‡é’ˆã€‚'
            },
            {
                type: 'easy',
                question: 'æŒ‡é’ˆç®—æœ¯ä¸­ï¼Œptr++è¡¨ç¤ºä»€ä¹ˆï¼Ÿ',
                options: [
                    'æŒ‡é’ˆå€¼åŠ 1',
                    'æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®ç±»å‹å¤§å°çš„ä½ç½®',
                    'æŒ‡é’ˆæŒ‡å‘çš„å€¼åŠ 1',
                    'æŒ‡é’ˆåœ°å€åŠ 1å­—èŠ‚'
                ],
                correct: 1,
                explanation: 'æŒ‡é’ˆç®—æœ¯ä¸­ï¼Œptr++ä½¿æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ•°æ®ç±»å‹å¤§å°çš„å†…å­˜ä½ç½®ï¼Œä¸æ˜¯ç®€å•åŠ 1å­—èŠ‚ã€‚'
            },
            {
                type: 'easy',
                question: 'äºŒçº§æŒ‡é’ˆæ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ',
                    'æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ',
                    'æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ',
                    'æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ'
                ],
                correct: 1,
                explanation: 'äºŒçº§æŒ‡é’ˆæ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œå³å­˜å‚¨æŒ‡é’ˆåœ°å€çš„æŒ‡é’ˆã€‚'
            },
            {
                type: 'easy',
                question: 'voidæŒ‡é’ˆçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ',
                options: [
                    'ä¸èƒ½å­˜å‚¨åœ°å€',
                    'å¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®',
                    'åªèƒ½æŒ‡å‘æ•´æ•°',
                    'ä¸å ç”¨å†…å­˜'
                ],
                correct: 1,
                explanation: 'voidæŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä½†ä½¿ç”¨æ—¶éœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚'
            },
            {
                type: 'easy',
                question: 'å‡½æ•°æŒ‡é’ˆæ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ',
                options: [
                    'æŒ‡å‘å‡½æ•°çš„è¿”å›å€¼',
                    'æŒ‡å‘å‡½æ•°çš„å‚æ•°',
                    'æŒ‡å‘å‡½æ•°çš„ä»£ç åœ°å€',
                    'æŒ‡å‘å‡½æ•°çš„åç§°'
                ],
                correct: 2,
                explanation: 'å‡½æ•°æŒ‡é’ˆå­˜å‚¨å‡½æ•°çš„åœ°å€ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°ã€‚'
            },
            {
                type: 'easy',
                question: 'åŠ¨æ€å†…å­˜åˆ†é…é€šå¸¸ä½¿ç”¨ä»€ä¹ˆå‡½æ•°ï¼Ÿ',
                options: [
                    'alloc()',
                    'malloc()',
                    'memory()',
                    'new()'
                ],
                correct: 1,
                explanation: 'åœ¨Cè¯­è¨€ä¸­ï¼ŒåŠ¨æ€å†…å­˜åˆ†é…é€šå¸¸ä½¿ç”¨malloc()å‡½æ•°ã€‚'
            },
            {
                type: 'easy',
                question: 'é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ä½¿ç”¨ä»€ä¹ˆå‡½æ•°ï¼Ÿ',
                options: [
                    'delete()',
                    'remove()',
                    'free()',
                    'clear()'
                ],
                correct: 2,
                explanation: 'é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ä½¿ç”¨free()å‡½æ•°ã€‚'
            },
            {
                type: 'easy',
                question: 'æ•°ç»„ååœ¨è¡¨è¾¾å¼ä¸­é€šå¸¸è¡¨ç¤ºä»€ä¹ˆï¼Ÿ',
                options: [
                    'æ•°ç»„çš„å¤§å°',
                    'æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€',
                    'æ•°ç»„çš„ç±»å‹',
                    'æ•°ç»„çš„ç´¢å¼•'
                ],
                correct: 1,
                explanation: 'åœ¨å¤§å¤šæ•°è¡¨è¾¾å¼ä¸­ï¼Œæ•°ç»„åè¡¨ç¤ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚'
            },

            // Medium Questions (20) - Code Reading
            {
                type: 'medium',
                question: 'ä¸‹é¢ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int x = 10;
int *p = &x;
printf("%d", *p);`,
                options: [
                    '10',
                    'xçš„åœ°å€',
                    'ç¼–è¯‘é”™è¯¯',
                    '0'
                ],
                correct: 0,
                explanation: '*pè§£å¼•ç”¨æŒ‡é’ˆpï¼Œè·å–pæŒ‡å‘çš„å˜é‡xçš„å€¼ï¼Œå³10ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç æ‰§è¡Œåxçš„å€¼æ˜¯å¤šå°‘ï¼Ÿ',
                code: `int x = 5;
int *p = &x;
*p = 15;
printf("%d", x);`,
                options: [
                    '5',
                    '15',
                    'ç¼–è¯‘é”™è¯¯',
                    'æœªå®šä¹‰'
                ],
                correct: 1,
                explanation: 'é€šè¿‡æŒ‡é’ˆpä¿®æ”¹äº†xçš„å€¼ï¼Œ*p = 15ç­‰åŒäºx = 15ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ',
                code: `int *p;
*p = 10;`,
                options: [
                    'è¯­æ³•é”™è¯¯',
                    'æœªåˆå§‹åŒ–æŒ‡é’ˆå°±ä½¿ç”¨',
                    'ç±»å‹ä¸åŒ¹é…',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 1,
                explanation: 'æŒ‡é’ˆpæœªåˆå§‹åŒ–å°±è¢«è§£å¼•ç”¨ï¼Œè¿™ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œå¯èƒ½ç¨‹åºå´©æºƒã€‚'
            },
            {
                type: 'medium',
                question: 'æ‰§è¡ŒåæŒ‡é’ˆpæŒ‡å‘å“ªé‡Œï¼Ÿ',
                code: `int arr[3] = {1, 2, 3};
int *p = arr;
p++;`,
                options: [
                    'arr[0]',
                    'arr[1]',
                    'arr[2]',
                    'æœªå®šä¹‰ä½ç½®'
                ],
                correct: 1,
                explanation: 'pæœ€åˆæŒ‡å‘arr[0]ï¼Œp++åæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ arr[1]ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int arr[] = {10, 20, 30};
int *p = arr + 1;
printf("%d", *p);`,
                options: [
                    '10',
                    '20',
                    '30',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'arr + 1æŒ‡å‘æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå³20ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ',
                code: `int* create_int() {
    int x = 42;
    return &x;
}`,
                options: [
                    'è¯­æ³•é”™è¯¯',
                    'è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€',
                    'ç±»å‹ä¸åŒ¹é…',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 1,
                explanation: 'å‡½æ•°è¿”å›äº†å±€éƒ¨å˜é‡xçš„åœ°å€ï¼Œä½†xåœ¨å‡½æ•°ç»“æŸåè¢«é”€æ¯ï¼Œè¿”å›çš„æ˜¯é‡æŒ‡é’ˆã€‚'
            },
            {
                type: 'medium',
                question: 'æ‰§è¡Œå*qçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int x = 10, y = 20;
int *p = &x;
int *q = &y;
p = q;`,
                options: [
                    '10',
                    '20',
                    'yçš„åœ°å€',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'p = qåï¼Œpå’Œqéƒ½æŒ‡å‘yï¼Œæ‰€ä»¥*qçš„å€¼æ˜¯yçš„å€¼20ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}`,
                options: [
                    'äº¤æ¢ä¸¤ä¸ªæŒ‡é’ˆ',
                    'äº¤æ¢ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å€¼',
                    'å¤åˆ¶ä¸¤ä¸ªå€¼',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'è¿™ä¸ªå‡½æ•°é€šè¿‡æŒ‡é’ˆäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œå®ç°çœŸæ­£çš„å€¼äº¤æ¢ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int arr[5] = {1,2,3,4,5};
printf("%d", *(arr + 3));`,
                options: [
                    '3',
                    '4',
                    '5',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: '*(arr + 3)ç­‰ä»·äºarr[3]ï¼Œè¾“å‡ºç¬¬4ä¸ªå…ƒç´ çš„å€¼4ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int x = 10;
int *p = &x;
int **pp = &p;
printf("%d", **pp);`,
                options: [
                    '10',
                    'xçš„åœ°å€',
                    'pçš„åœ°å€',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 0,
                explanation: '**ppæ˜¯äºŒçº§æŒ‡é’ˆè§£å¼•ç”¨ä¸¤æ¬¡ï¼Œæœ€ç»ˆå¾—åˆ°xçš„å€¼10ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç å¯èƒ½å¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ',
                code: `int *p = malloc(sizeof(int));
*p = 100;
free(p);
printf("%d", *p);`,
                options: [
                    'æ­£å¸¸è¾“å‡º100',
                    'è¾“å‡º0',
                    'æœªå®šä¹‰è¡Œä¸º',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 2,
                explanation: 'é‡Šæ”¾å†…å­˜åç»§ç»­ä½¿ç”¨æŒ‡é’ˆæ˜¯æœªå®šä¹‰è¡Œä¸ºï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–è¾“å‡ºåƒåœ¾å€¼ã€‚'
            },
            {
                type: 'medium',
                question: 'å¦‚ä½•æ­£ç¡®åˆ†é…intæ•°ç»„çš„å†…å­˜ï¼Ÿ',
                code: `// ä¸º10ä¸ªintåˆ†é…å†…å­˜`,
                options: [
                    'int *arr = malloc(10);',
                    'int *arr = malloc(10 * sizeof(int));',
                    'int *arr = malloc(sizeof(int[10]));',
                    'Bå’ŒCéƒ½æ­£ç¡®'
                ],
                correct: 3,
                explanation: 'ä¸º10ä¸ªintåˆ†é…å†…å­˜éœ€è¦10 * sizeof(int)å­—èŠ‚ï¼Œæˆ–ä½¿ç”¨sizeof(int[10])ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `char str[] = "Hello";
char *p = str;
printf("%c", *(p + 1));`,
                options: [
                    'H',
                    'e',
                    'l',
                    '\\0'
                ],
                correct: 1,
                explanation: '*(p + 1)æŒ‡å‘å­—ç¬¦ä¸²çš„ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œå³\'e\'ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªæ¡ä»¶ä»€ä¹ˆæ—¶å€™ä¸ºçœŸï¼Ÿ',
                code: `int *p;
if (p == NULL)`,
                options: [
                    'pæœªåˆå§‹åŒ–æ—¶',
                    'pè¢«æ˜¾å¼è®¾ä¸ºNULLæ—¶',
                    'pæŒ‡å‘åœ°å€0æ—¶',
                    'Bå’ŒCéƒ½å¯¹'
                ],
                correct: 3,
                explanation: 'p == NULLåœ¨pè¢«æ˜¾å¼è®¾ä¸ºNULLæˆ–æŒ‡å‘åœ°å€0æ—¶ä¸ºçœŸï¼Œä½†æœªåˆå§‹åŒ–çš„æŒ‡é’ˆå€¼æ˜¯ä¸ç¡®å®šçš„ã€‚'
            },
            {
                type: 'medium',
                question: 'æŒ‡é’ˆå‡æ³•è¿ç®—çš„ç»“æœè¡¨ç¤ºä»€ä¹ˆï¼Ÿ',
                code: `int arr[10];
int *p1 = &arr[2];
int *p2 = &arr[7];
int diff = p2 - p1;`,
                options: [
                    'ä¸¤ä¸ªåœ°å€çš„å­—èŠ‚å·®',
                    'ä¸¤ä¸ªæŒ‡é’ˆé—´çš„å…ƒç´ ä¸ªæ•°',
                    'ä¸¤ä¸ªæŒ‡é’ˆçš„å€¼å·®',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'æŒ‡é’ˆå‡æ³•è¿”å›ä¸¤ä¸ªæŒ‡é’ˆé—´ç›¸å·®çš„å…ƒç´ ä¸ªæ•°ï¼Œè¿™é‡Œæ˜¯7-2=5ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç å®ç°äº†ä»€ä¹ˆï¼Ÿ',
                code: `void func(int **p) {
    *p = malloc(sizeof(int));
    **p = 42;
}`,
                options: [
                    'ä¿®æ”¹æŒ‡é’ˆçš„å€¼',
                    'é€šè¿‡äºŒçº§æŒ‡é’ˆåˆ†é…å†…å­˜å¹¶èµ‹å€¼',
                    'äº¤æ¢ä¸¤ä¸ªæŒ‡é’ˆ',
                    'é‡Šæ”¾å†…å­˜'
                ],
                correct: 1,
                explanation: 'å‡½æ•°é€šè¿‡äºŒçº§æŒ‡é’ˆåˆ†é…å†…å­˜ç»™*pï¼Œå¹¶è®¾ç½®**pçš„å€¼ä¸º42ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸ªå‡½æ•°è°ƒç”¨åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ',
                code: `void modify(int *arr, int size) {
    arr = malloc(size * sizeof(int));
}
int main() {
    int *ptr = NULL;
    modify(ptr, 5);
    // ptrçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ
}`,
                options: [
                    'ptræŒ‡å‘æ–°åˆ†é…çš„å†…å­˜',
                    'pträ»ç„¶æ˜¯NULL',
                    'ptrå˜æˆé‡æŒ‡é’ˆ',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼Œä¿®æ”¹arrä¸ä¼šå½±å“ptrçš„å€¼ï¼Œpträ»ç„¶æ˜¯NULLã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int arr[5];
int *p = arr;
for (int i = 0; i <= 5; i++) {
    *(p + i) = i;
}`,
                options: [
                    'æ•°ç»„è¶Šç•Œ',
                    'æŒ‡é’ˆæœªåˆå§‹åŒ–',
                    'å†…å­˜æ³„æ¼',
                    'æ²¡æœ‰é—®é¢˜'
                ],
                correct: 0,
                explanation: 'å¾ªç¯æ¡ä»¶i <= 5ä¼šå¯¼è‡´è®¿é—®arr[5]ï¼Œè¿™è¶…å‡ºäº†æ•°ç»„boundsï¼ˆæ•°ç»„å¤§å°ä¸º5ï¼Œæœ‰æ•ˆç´¢å¼•0-4ï¼‰ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™ä¸¤ä¸ªè¡¨è¾¾å¼æ˜¯å¦ç­‰ä»·ï¼Ÿ',
                code: `int arr[10];
// è¡¨è¾¾å¼1: arr[i]
// è¡¨è¾¾å¼2: *(arr + i)`,
                options: [
                    'ä¸ç­‰ä»·',
                    'ç­‰ä»·',
                    'æœ‰æ—¶ç­‰ä»·',
                    'ç¼–è¯‘é”™è¯¯'
                ],
                correct: 1,
                explanation: 'arr[i]å’Œ*(arr + i)å®Œå…¨ç­‰ä»·ï¼Œéƒ½è¡¨ç¤ºè®¿é—®æ•°ç»„ç¬¬iä¸ªå…ƒç´ ã€‚'
            },
            {
                type: 'medium',
                question: 'è¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ',
                code: `int x = 5;
int y = 10;
int *p = &x;
p = &y;
(*p)++;
printf("%d %d", x, y);`,
                options: [
                    '5 10',
                    '6 10',
                    '5 11',
                    '6 11'
                ],
                correct: 2,
                explanation: 'på…ˆæŒ‡å‘xï¼Œç„¶åæŒ‡å‘yï¼Œ(*p)++ç­‰ä»·äºy++ï¼Œæ‰€ä»¥x=5, y=11ã€‚'
            },

            // Hard Questions (10) - Interactive Simulators
            {
                type: 'hard',
                question: 'å†…å­˜æ¨¡æ‹Ÿï¼šç‚¹å‡»æŒ‰é’®æŸ¥çœ‹æŒ‡é’ˆæ“ä½œå¯¹å†…å­˜çš„å½±å“',
                interactive: true,
                simulation: 'memory_layout',
                initialCode: 'int x = 10;\nint *p = &x;',
                operations: ['declare_pointer', 'assign_address', 'dereference', 'modify_value'],
                options: [
                    'æŒ‡é’ˆpå­˜å‚¨xçš„åœ°å€',
                    'æŒ‡é’ˆpå­˜å‚¨xçš„å€¼', 
                    'æŒ‡é’ˆpå­˜å‚¨è‡ªå·±çš„åœ°å€',
                    'æŒ‡é’ˆpæ˜¯ç©ºæŒ‡é’ˆ'
                ],
                correct: 0,
                explanation: 'æŒ‡é’ˆå˜é‡å­˜å‚¨å®ƒæ‰€æŒ‡å‘çš„å˜é‡çš„å†…å­˜åœ°å€ï¼Œä¸æ˜¯å€¼æœ¬èº«ã€‚'
            },
            {
                type: 'hard',
                question: 'æŒ‡é’ˆç®—æœ¯æ¨¡æ‹Ÿï¼šè§‚å¯ŸæŒ‡é’ˆåœ¨æ•°ç»„ä¸­çš„ç§»åŠ¨',
                interactive: true,
                simulation: 'pointer_arithmetic',
                initialState: {
                    array: [100, 200, 300, 400],
                    pointer_position: 0
                },
                operations: ['increment', 'decrement', 'add_offset'],
                options: [
                    'æŒ‡é’ˆç§»åŠ¨4ä¸ªå­—èŠ‚',
                    'æŒ‡é’ˆç§»åŠ¨sizeof(int)ä¸ªå­—èŠ‚',
                    'æŒ‡é’ˆç§»åŠ¨1ä¸ªå­—èŠ‚',
                    'æŒ‡é’ˆä¸ç§»åŠ¨'
                ],
                correct: 1,
                explanation: 'æŒ‡é’ˆç®—æœ¯æ˜¯åŸºäºæ•°æ®ç±»å‹å¤§å°çš„ï¼ŒintæŒ‡é’ˆ+1ç§»åŠ¨sizeof(int)ä¸ªå­—èŠ‚ã€‚'
            },
            {
                type: 'hard',
                question: 'è§£å¼•ç”¨æ¨¡æ‹Ÿï¼šé€šè¿‡æŒ‡é’ˆä¿®æ”¹å€¼çš„è¿‡ç¨‹',
                interactive: true,
                simulation: 'dereference_operation',
                initialState: {
                    variable: { name: 'x', value: 42, address: '0x1000' },
                    pointer: { name: 'p', points_to: '0x1000' }
                },
                operation: 'modify_through_pointer',
                new_value: 99,
                options: [
                    'åªæœ‰æŒ‡é’ˆçš„å€¼æ”¹å˜',
                    'åªæœ‰åŸå˜é‡çš„å€¼æ”¹å˜',
                    'æŒ‡é’ˆå’ŒåŸå˜é‡éƒ½æ”¹å˜',
                    'éƒ½ä¸æ”¹å˜'
                ],
                correct: 1,
                explanation: 'é€šè¿‡æŒ‡é’ˆè§£å¼•ç”¨ä¿®æ”¹å€¼æ—¶ï¼Œæ”¹å˜çš„æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å˜é‡ï¼ŒæŒ‡é’ˆæœ¬èº«ä¸å˜ã€‚'
            },
            {
                type: 'hard',
                question: 'äºŒçº§æŒ‡é’ˆæ¨¡æ‹Ÿï¼šç†è§£æŒ‡é’ˆçš„æŒ‡é’ˆ',
                interactive: true,
                simulation: 'double_pointer',
                initialState: {
                    x: 10,
                    p: 'points to x',
                    pp: 'points to p'
                },
                operation: 'double_dereference',
                options: [
                    '**pp = pçš„åœ°å€',
                    '**pp = xçš„åœ°å€', 
                    '**pp = xçš„å€¼',
                    '**pp = ppçš„å€¼'
                ],
                correct: 2,
                explanation: '**ppæ˜¯äºŒçº§æŒ‡é’ˆè§£å¼•ç”¨ä¸¤æ¬¡ï¼Œæœ€ç»ˆå¾—åˆ°xçš„å€¼ã€‚'
            },
            {
                type: 'hard',
                question: 'åŠ¨æ€å†…å­˜æ¨¡æ‹Ÿï¼šmallocå’Œfreeçš„è¿‡ç¨‹',
                interactive: true,
                simulation: 'dynamic_memory',
                operations: ['malloc', 'assign_value', 'free', 'access_after_free'],
                options: [
                    'freeåæŒ‡é’ˆè‡ªåŠ¨ç½®NULL',
                    'freeåå¯ä»¥ç»§ç»­å®‰å…¨ä½¿ç”¨',
                    'freeåæŒ‡é’ˆæˆä¸ºé‡æŒ‡é’ˆ',
                    'freeä¼šæ¸…é›¶å†…å­˜'
                ],
                correct: 2,
                explanation: 'free()é‡Šæ”¾å†…å­˜ä½†ä¸æ”¹å˜æŒ‡é’ˆå€¼ï¼ŒæŒ‡é’ˆå˜æˆé‡æŒ‡é’ˆï¼Œç»§ç»­ä½¿ç”¨æ˜¯å±é™©çš„ã€‚'
            },
            {
                type: 'hard',
                question: 'å‡½æ•°å‚æ•°æ¨¡æ‹Ÿï¼šä¼ å€¼vsä¼ åœ°å€',
                interactive: true,
                simulation: 'parameter_passing',
                functions: ['pass_by_value', 'pass_by_reference'],
                options: [
                    'ä¼ å€¼å¯ä»¥ä¿®æ”¹åŸå˜é‡',
                    'ä¼ åœ°å€ä¸èƒ½ä¿®æ”¹åŸå˜é‡',
                    'ä¼ åœ°å€å¯ä»¥ä¿®æ”¹åŸå˜é‡',
                    'ä¸¤ç§æ–¹å¼æ•ˆæœç›¸åŒ'
                ],
                correct: 2,
                explanation: 'ä¼ åœ°å€ï¼ˆä¼ æŒ‡é’ˆï¼‰å¯ä»¥é€šè¿‡è§£å¼•ç”¨ä¿®æ”¹åŸå˜é‡ï¼Œä¼ å€¼åªä¿®æ”¹å‰¯æœ¬ã€‚'
            },
            {
                type: 'hard',
                question: 'æ•°ç»„æŒ‡é’ˆæ¨¡æ‹Ÿï¼šæ•°ç»„åä¸æŒ‡é’ˆçš„å…³ç³»',
                interactive: true,
                simulation: 'array_pointer_relationship',
                initialArray: [10, 20, 30, 40, 50],
                operations: ['array_name_as_pointer', 'pointer_indexing', 'pointer_arithmetic'],
                options: [
                    'arrå’Œ&arr[0]ä¸åŒ',
                    'arrå’Œ&arr[0]ç›¸åŒ',
                    'arræ˜¯å¸¸é‡ï¼Œä¸èƒ½æ”¹å˜',
                    'Bå’ŒCéƒ½å¯¹'
                ],
                correct: 3,
                explanation: 'æ•°ç»„åarrç­‰ä»·äº&arr[0]ï¼Œä½†arræ˜¯å¸¸é‡ï¼Œä¸èƒ½è¢«èµ‹å€¼æ”¹å˜ã€‚'
            },
            {
                type: 'hard',
                question: 'å­—ç¬¦ä¸²æŒ‡é’ˆæ¨¡æ‹Ÿï¼šå­—ç¬¦ä¸²çš„æŒ‡é’ˆæ“ä½œ',
                interactive: true,
                simulation: 'string_pointer',
                initialString: "Hello",
                operations: ['char_access', 'string_traversal', 'modification'],
                options: [
                    'å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥ä¿®æ”¹',
                    'å­—ç¬¦ä¸²å­—é¢é‡ä¸èƒ½ä¿®æ”¹',
                    'æŒ‡é’ˆä¸èƒ½æŒ‡å‘å­—ç¬¦ä¸²',
                    'å­—ç¬¦ä¸²æ²¡æœ‰ç»“æŸç¬¦'
                ],
                correct: 1,
                explanation: 'å­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨åœ¨åªè¯»å†…å­˜åŒºï¼Œä¸èƒ½é€šè¿‡æŒ‡é’ˆä¿®æ”¹ã€‚'
            },
            {
                type: 'hard',
                question: 'å†…å­˜æ³„æ¼æ¨¡æ‹Ÿï¼šè§‚å¯Ÿå†…å­˜æ³„æ¼çš„äº§ç”Ÿ',
                interactive: true,
                simulation: 'memory_leak',
                operations: ['allocate', 'lose_reference', 'allocate_again'],
                options: [
                    'é‡æ–°åˆ†é…ä¼šè‡ªåŠ¨é‡Šæ”¾æ—§å†…å­˜',
                    'å¤±å»å¼•ç”¨ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜',
                    'å¤±å»å¼•ç”¨å¯¼è‡´å†…å­˜æ³„æ¼',
                    'å†…å­˜ä¼šè‡ªåŠ¨å›æ”¶'
                ],
                correct: 2,
                explanation: 'Cè¯­è¨€æ²¡æœ‰åƒåœ¾å›æ”¶ï¼Œå¤±å»å¯¹åŠ¨æ€åˆ†é…å†…å­˜çš„å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚'
            },
            {
                type: 'hard',
                question: 'æŒ‡é’ˆæ¯”è¾ƒæ¨¡æ‹Ÿï¼šæŒ‡é’ˆæ¯”è¾ƒçš„è§„åˆ™',
                interactive: true,
                simulation: 'pointer_comparison',
                pointers: ['p1', 'p2', 'p3'],
                array: [1, 2, 3, 4, 5],
                operations: ['compare_equal', 'compare_order', 'compare_null'],
                options: [
                    'åªèƒ½æ¯”è¾ƒç›¸ç­‰æ€§',
                    'å¯ä»¥æ¯”è¾ƒå¤§å°å…³ç³»',
                    'æŒ‡å‘åŒä¸€æ•°ç»„çš„æŒ‡é’ˆå¯ä»¥æ¯”è¾ƒå¤§å°',
                    'ä¸èƒ½æ¯”è¾ƒæŒ‡é’ˆ'
                ],
                correct: 2,
                explanation: 'æŒ‡å‘åŒä¸€æ•°ç»„æˆ–å¯¹è±¡çš„æŒ‡é’ˆå¯ä»¥æ¯”è¾ƒå¤§å°ï¼Œæ¯”è¾ƒç»“æœåæ˜ å®ƒä»¬åœ¨å†…å­˜ä¸­çš„ç›¸å¯¹ä½ç½®ã€‚'
            },

            // Extreme Questions (5) - Programming with Compilation Simulation
            {
                type: 'extreme',
                question: 'å®ç°æŒ‡é’ˆäº¤æ¢å‡½æ•°ï¼šç¼–å†™å‡½æ•°äº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼',
                template: `void swap_integers(int *a, int *b) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. ä½¿ç”¨ä¸´æ—¶å˜é‡
     * 2. é€šè¿‡æŒ‡é’ˆè§£å¼•ç”¨è®¿é—®å€¼
     * 3. äº¤æ¢ä¸¤ä¸ªå€¼
     */
    
}`,
                correctKeywords: ['temp', '*a', '*b', '='],
                testCases: [
                    { input: 'swap_integers(&x, &y) where x=5, y=10', expected: 'x=10, y=5' },
                    { input: 'swap_integers(&a, &b) where a=1, b=2', expected: 'a=2, b=1' }
                ],
                explanation: 'ä½¿ç”¨ä¸´æ—¶å˜é‡å’ŒæŒ‡é’ˆè§£å¼•ç”¨å®ç°å€¼äº¤æ¢ï¼štemp = *a; *a = *b; *b = temp;'
            },
            {
                type: 'extreme',
                question: 'å®ç°åŠ¨æ€æ•°ç»„å‡½æ•°ï¼šåŠ¨æ€åˆ†é…å’Œåˆå§‹åŒ–æ•´æ•°æ•°ç»„',
                template: `int* create_array(int size, int init_value) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. ä½¿ç”¨mallocåˆ†é…å†…å­˜
     * 2. æ£€æŸ¥åˆ†é…æ˜¯å¦æˆåŠŸ
     * 3. åˆå§‹åŒ–æ‰€æœ‰å…ƒç´ 
     * 4. è¿”å›æŒ‡é’ˆ
     */
    
}`,
                correctKeywords: ['malloc', 'sizeof', 'int', 'for', 'return', 'NULL'],
                testCases: [
                    { input: 'create_array(5, 0)', expected: 'Array: [0,0,0,0,0]' },
                    { input: 'create_array(3, 7)', expected: 'Array: [7,7,7]' }
                ],
                explanation: 'åŠ¨æ€åˆ†é…æ•°ç»„éœ€è¦ï¼šmallocåˆ†é…å†…å­˜ã€æ£€æŸ¥åˆ†é…æˆåŠŸã€å¾ªç¯åˆå§‹åŒ–ã€è¿”å›æŒ‡é’ˆã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°å­—ç¬¦ä¸²é•¿åº¦å‡½æ•°ï¼šä½¿ç”¨æŒ‡é’ˆè®¡ç®—å­—ç¬¦ä¸²é•¿åº¦',
                template: `int string_length(char *str) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. ä½¿ç”¨æŒ‡é’ˆéå†å­—ç¬¦ä¸²
     * 2. è®¡ç®—å­—ç¬¦ä¸ªæ•°
     * 3. é‡åˆ°\\0åœæ­¢
     * 4. è¿”å›é•¿åº¦
     */
    
}`,
                correctKeywords: ['while', '*str', '\\0', 'length', 'str++', 'return'],
                testCases: [
                    { input: 'string_length("Hello")', expected: '5' },
                    { input: 'string_length("")', expected: '0' }
                ],
                explanation: 'ä½¿ç”¨æŒ‡é’ˆéå†å­—ç¬¦ä¸²ç›´åˆ°é‡åˆ°\\0ï¼Œè®¡ç®—éå†çš„å­—ç¬¦ä¸ªæ•°ã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°æ•°ç»„æŸ¥æ‰¾å‡½æ•°ï¼šåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå€¼çš„ä½ç½®',
                template: `int* find_element(int *arr, int size, int target) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. éå†æ•°ç»„
     * 2. æ¯”è¾ƒæ¯ä¸ªå…ƒç´ ä¸ç›®æ ‡å€¼
     * 3. æ‰¾åˆ°åˆ™è¿”å›å…ƒç´ åœ°å€
     * 4. æœªæ‰¾åˆ°è¿”å›NULL
     */
    
}`,
                correctKeywords: ['for', 'if', 'arr[i]', 'target', 'return', '&arr[i]', 'NULL'],
                testCases: [
                    { input: 'find_element([1,2,3,4], 4, 3)', expected: 'Address of arr[2]' },
                    { input: 'find_element([1,2,3,4], 4, 5)', expected: 'NULL' }
                ],
                explanation: 'éå†æ•°ç»„æ¯”è¾ƒæ¯ä¸ªå…ƒç´ ï¼Œæ‰¾åˆ°ç›®æ ‡å€¼è¿”å›å…¶åœ°å€ï¼Œå¦åˆ™è¿”å›NULLã€‚'
            },
            {
                type: 'extreme',
                question: 'å®ç°äºŒçº§æŒ‡é’ˆå‡½æ•°ï¼šé€šè¿‡äºŒçº§æŒ‡é’ˆä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘',
                template: `void redirect_pointer(int **pp, int *new_target) {
    // åœ¨è¿™é‡Œå†™ä»£ç 
    /*
     * æç¤ºï¼š
     * 1. ç†è§£äºŒçº§æŒ‡é’ˆçš„å«ä¹‰
     * 2. ä¿®æ”¹*ppçš„å€¼
     * 3. è®©*ppæŒ‡å‘new_target
     */
    
}`,
                correctKeywords: ['*pp', 'new_target', '='],
                testCases: [
                    { input: 'redirect_pointer(&p, &y)', expected: 'p now points to y' },
                    { input: 'redirect_pointer(&ptr, &new_var)', expected: 'ptr redirected' }
                ],
                explanation: 'äºŒçº§æŒ‡é’ˆå¯ä»¥ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘ï¼š*pp = new_targetä½¿*ppæŒ‡å‘æ–°çš„ç›®æ ‡ã€‚'
            }
        ];

        function displayQuestion(index) {
            const question = questions[index];
            const container = document.getElementById('quizContainer');
            
            let difficultyClass = '';
            let difficultyText = '';
            
            switch(question.type) {
                case 'easy':
                    difficultyClass = 'difficulty-easy';
                    difficultyText = 'ç®€å•';
                    break;
                case 'medium':
                    difficultyClass = 'difficulty-medium';
                    difficultyText = 'æ™®é€š';
                    break;
                case 'hard':
                    difficultyClass = 'difficulty-hard';
                    difficultyText = 'å›°éš¾';
                    break;
                case 'extreme':
                    difficultyClass = 'difficulty-extreme';
                    difficultyText = 'è¶…éš¾';
                    break;
            }

            let questionContent = '';
            
            if (question.type === 'extreme') {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        <div class="code-block">${question.template}</div>
                        
                        <textarea class="code-editor" id="code-${index}" placeholder="åœ¨è¿™é‡Œç¼–å†™æ‚¨çš„ä»£ç ..."></textarea>
                        
                        <button class="compile-button" onclick="simulateCompilation(${index})">
                            ğŸ”¨ æ¨¡æ‹Ÿç¼–è¯‘ä¸è¿è¡Œ
                        </button>
                        
                        <div class="compile-output" id="output-${index}"></div>
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            } else if (question.interactive) {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        <div class="memory-simulator" id="simulator-${index}">
                            <div class="mb-4">
                                <strong>å†…å­˜æ¨¡æ‹Ÿå™¨</strong>
                                <div id="memory-display-${index}" class="mt-2"></div>
                            </div>
                            <button class="simulator-button" onclick="runMemorySimulation(${index})">
                                è¿è¡Œæ¨¡æ‹Ÿ
                            </button>
                            <div id="simulation-result-${index}" class="mt-4"></div>
                        </div>
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            } else {
                questionContent = `
                    <div class="question-card" id="question-${index}">
                        <div class="difficulty-badge ${difficultyClass}">${difficultyText}</div>
                        <h3 class="text-lg font-bold mb-3">é—®é¢˜ ${index + 1}: ${question.question}</h3>
                        
                        ${question.code ? `<div class="code-block">${question.code}</div>` : ''}
                        
                        <div class="mt-4">
                            ${question.options.map((option, i) => 
                                `<button class="option-button" id="option-${index}-${i}" onclick="selectAnswer(${index}, ${i})">
                                    ${String.fromCharCode(65 + i)}. ${option}
                                </button>`
                            ).join('')}
                        </div>
                        
                        <div class="explanation" id="explanation-${index}">
                            <strong>è§£é‡Šï¼š</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML += questionContent;

            if (question.interactive) {
                initializeMemorySimulator(index);
            }
        }

        function initializeMemorySimulator(index) {
            const question = questions[index];
            const displayElement = document.getElementById(`memory-display-${index}`);
            
            let simulatorHTML = '';
            
            switch(question.simulation) {
                case 'memory_layout':
                    simulatorHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; gap: 1rem;">
                            <div class="memory-block">
                                <div class="memory-address">0x1000</div>
                                <div class="memory-value">10 (å˜é‡x)</div>
                            </div>
                            <span style="font-size: 1.5rem; color: #e07a5f;">â†’</span>
                            <div class="pointer-visual">æŒ‡é’ˆp: 0x1000</div>
                        </div>
                        <div style="margin-top: 1rem; text-align: center; color: #666;">
                            <small>æŒ‡é’ˆpå­˜å‚¨å˜é‡xçš„å†…å­˜åœ°å€</small>
                        </div>
                    `;
                    break;
                case 'pointer_arithmetic':
                    simulatorHTML = `
                        <div style="display: flex; justify-content: center; gap: 0.5rem; flex-wrap: wrap;">
                            ${question.initialState.array.map((val, idx) => 
                                `<div class="memory-block" style="border-color: ${idx === question.initialState.pointer_position ? '#ef4444' : '#e07a5f'}; border-width: ${idx === question.initialState.pointer_position ? '3px' : '2px'};">
                                    <div class="memory-address">0x${(0x1000 + idx * 4).toString(16)}</div>
                                    <div class="memory-value">${val}</div>
                                    ${idx === question.initialState.pointer_position ? '<div style="color: #ef4444; font-size: 0.8rem;">â† æŒ‡é’ˆä½ç½®</div>' : ''}
                                </div>`
                            ).join('')}
                        </div>
                        <div style="margin-top: 1rem; text-align: center; color: #666;">
                            <small>æ•°ç»„åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼ŒæŒ‡é’ˆå½“å‰æŒ‡å‘ç¬¬${question.initialState.pointer_position + 1}ä¸ªå…ƒç´ </small>
                        </div>
                    `;
                    break;
                case 'dereference_operation':
                    simulatorHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; gap: 2rem;">
                            <div class="memory-block">
                                <div class="memory-address">${question.initialState.variable.address}</div>
                                <div class="memory-value">${question.initialState.variable.value}</div>
                                <div style="font-size: 0.8rem; color: #666;">å˜é‡ ${question.initialState.variable.name}</div>
                            </div>
                            <span style="font-size: 1.5rem; color: #e07a5f;">â†</span>
                            <div class="pointer-visual">æŒ‡é’ˆ${question.initialState.pointer.name}: ${question.initialState.pointer.points_to}</div>
                        </div>
                        <div style="margin-top: 1rem; text-align: center; color: #666;">
                            <small>é€šè¿‡ *${question.initialState.pointer.name} å¯ä»¥è®¿é—®å’Œä¿®æ”¹å˜é‡${question.initialState.variable.name}çš„å€¼</small>
                        </div>
                    `;
                    break;
                case 'double_pointer':
                    simulatorHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; gap: 1rem;">
                            <div class="memory-block">
                                <div class="memory-address">0x1000</div>
                                <div class="memory-value">${question.initialState.x}</div>
                                <div style="font-size: 0.8rem; color: #666;">å˜é‡ x</div>
                            </div>
                            <span style="color: #e07a5f;">â†</span>
                            <div class="memory-block">
                                <div class="memory-address">0x2000</div>
                                <div class="memory-value">0x1000</div>
                                <div style="font-size: 0.8rem; color: #666;">æŒ‡é’ˆ p</div>
                            </div>
                            <span style="color: #e07a5f;">â†</span>
                            <div class="pointer-visual">æŒ‡é’ˆpp: 0x2000</div>
                        </div>
                        <div style="margin-top: 1rem; text-align: center; color: #666;">
                            <small>**pp â†’ *p â†’ xï¼ŒäºŒçº§æŒ‡é’ˆæŒ‡å‘æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘å˜é‡</small>
                        </div>
                    `;
                    break;
                default:
                    simulatorHTML = `
                        <div style="text-align: center; padding: 2rem; color: #666;">
                            <div style="font-size: 1.2rem; margin-bottom: 1rem;">ğŸ”§ å†…å­˜æ¨¡æ‹Ÿå™¨</div>
                            <div>ç‚¹å‡»"è¿è¡Œæ¨¡æ‹Ÿ"æŒ‰é’®æŸ¥çœ‹å†…å­˜æ“ä½œçš„å¯è§†åŒ–è¿‡ç¨‹</div>
                        </div>
                    `;
            }
            
            displayElement.innerHTML = simulatorHTML;
        }

        function runMemorySimulation(index) {
            const question = questions[index];
            const resultElement = document.getElementById(`simulation-result-${index}`);
            const button = document.querySelector(`#simulator-${index} .simulator-button`);
            
            button.disabled = true;
            button.textContent = 'è¿è¡Œä¸­...';
            
            setTimeout(() => {
                let simulationResult = '';
                
                switch(question.simulation) {
                    case 'memory_layout':
                        simulationResult = `
                            <div style="background-color: #e0f2fe; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #0ea5e9;">
                                <strong>âœ… å†…å­˜å¸ƒå±€æ¨¡æ‹Ÿå®Œæˆï¼</strong><br>
                                â€¢ å˜é‡xå­˜å‚¨åœ¨åœ°å€0x1000ï¼Œå€¼ä¸º10<br>
                                â€¢ æŒ‡é’ˆpå­˜å‚¨åœ°å€0x1000ï¼ˆæŒ‡å‘xï¼‰<br>
                                â€¢ é€šè¿‡*på¯ä»¥è®¿é—®xçš„å€¼
                            </div>
                        `;
                        break;
                    case 'pointer_arithmetic':
                        simulationResult = `
                            <div style="background-color: #f0fdf4; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #22c55e;">
                                <strong>ğŸ”„ æŒ‡é’ˆç®—æœ¯æ¨¡æ‹Ÿå®Œæˆï¼</strong><br>
                                â€¢ æŒ‡é’ˆç§»åŠ¨åŸºäºæ•°æ®ç±»å‹å¤§å°<br>
                                â€¢ intæŒ‡é’ˆ+1ç§»åŠ¨4å­—èŠ‚ï¼ˆ32ä½ç³»ç»Ÿï¼‰<br>
                                â€¢ å½“å‰æŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„ç¬¬${question.initialState.pointer_position + 1}ä¸ªå…ƒç´ 
                            </div>
                        `;
                        break;
                    case 'dereference_operation':
                        simulationResult = `
                            <div style="background-color: #fefce8; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #f59e0b;">
                                <strong>ğŸ¯ è§£å¼•ç”¨æ“ä½œæ¨¡æ‹Ÿå®Œæˆï¼</strong><br>
                                â€¢ *pè§£å¼•ç”¨è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼<br>
                                â€¢ ä¿®æ”¹*pä¼šæ”¹å˜åŸå˜é‡çš„å€¼<br>
                                â€¢ æŒ‡é’ˆæœ¬èº«çš„åœ°å€ä¸å˜
                            </div>
                        `;
                        break;
                    case 'double_pointer':
                        simulationResult = `
                            <div style="background-color: #f3e8ff; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #a855f7;">
                                <strong>ğŸ”— äºŒçº§æŒ‡é’ˆæ¨¡æ‹Ÿå®Œæˆï¼</strong><br>
                                â€¢ ppæ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ<br>
                                â€¢ *ppè·å¾—æŒ‡é’ˆpçš„å€¼ï¼ˆ0x1000ï¼‰<br>
                                â€¢ **ppè·å¾—xçš„å€¼ï¼ˆ${question.initialState.x}ï¼‰
                            </div>
                        `;
                        break;
                    default:
                        simulationResult = `
                            <div style="background-color: #e0f2fe; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #0ea5e9;">
                                <strong>âœ… æ¨¡æ‹Ÿå®Œæˆï¼</strong> è§‚å¯Ÿå†…å­˜æ“ä½œçš„å¯è§†åŒ–è¿‡ç¨‹ï¼Œç†è§£æŒ‡é’ˆçš„å·¥ä½œåŸç†ã€‚
                            </div>
                        `;
                }
                
                resultElement.innerHTML = simulationResult;
                button.textContent = 'é‡æ–°è¿è¡Œ';
                button.disabled = false;
            }, 1500);
        }

        function simulateCompilation(index) {
            const question = questions[index];
            const code = document.getElementById(`code-${index}`).value;
            const outputElement = document.getElementById(`output-${index}`);
            
            outputElement.classList.add('show');
            outputElement.innerHTML = '';
            
            const steps = [
                '> gcc student_code.c -o student_program',
                '> Compiling...',
                '> Syntax check...',
                '> Linking...',
                '> Running test cases...'
            ];
            
            let stepIndex = 0;
            const interval = setInterval(() => {
                outputElement.innerHTML += steps[stepIndex] + '\n';
                stepIndex++;
                
                if (stepIndex >= steps.length) {
                    clearInterval(interval);
                    
                    const keywordCount = question.correctKeywords.filter(keyword => 
                        code.toLowerCase().includes(keyword.toLowerCase())
                    ).length;
                    
                    let result = '';
                    if (keywordCount >= question.correctKeywords.length * 0.8) {
                        result = '> ç¼–è¯‘æˆåŠŸï¼\n> æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼\n> ç»“æœï¼šå®Œå…¨æ­£ç¡® âœ…';
                    } else if (keywordCount >= question.correctKeywords.length * 0.5) {
                        result = '> ç¼–è¯‘æˆåŠŸï¼\n> éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹é€šè¿‡\n> ç»“æœï¼šéƒ¨åˆ†æ­£ç¡® âš ï¸';
                    } else {
                        result = '> ç¼–è¯‘å¤±è´¥ï¼\n> è¯­æ³•é”™è¯¯æˆ–é€»è¾‘é”™è¯¯\n> ç»“æœï¼šç¼–è¯‘å¤±è´¥ âŒ';
                    }
                    
                    setTimeout(() => {
                        outputElement.innerHTML += '\n' + result;
                    }, 1000);
                }
            }, 800);
        }

        function selectAnswer(questionIndex, selectedOption) {
            const question = questions[questionIndex];
            const questionCard = document.getElementById(`question-${questionIndex}`);
            const explanation = document.getElementById(`explanation-${questionIndex}`);
            
            for (let i = 0; i < question.options.length; i++) {
                const optionButton = document.getElementById(`option-${questionIndex}-${i}`);
                optionButton.classList.add('disabled');
                
                if (i === question.correct) {
                    optionButton.classList.add('correct');
                }
                if (i === selectedOption && i !== question.correct) {
                    optionButton.classList.add('incorrect');
                }
            }
            
            explanation.classList.add('show');
            
            if (selectedOption === question.correct) {
                questionCard.classList.add('answered-correct');
                correctAnswers++;
            } else {
                questionCard.classList.add('answered-incorrect');
                incorrectAnswers++;
            }
            
            updateScore();
            updateProgress();
            currentQuestion++;
        }

        function updateScore() {
            const totalAnswered = correctAnswers + incorrectAnswers;
            document.getElementById('scoreDisplay').textContent = `${correctAnswers}/${totalAnswered}`;
            document.getElementById('correctDisplay').textContent = correctAnswers;
            document.getElementById('incorrectDisplay').textContent = incorrectAnswers;
        }

        function updateProgress() {
            const totalAnswered = correctAnswers + incorrectAnswers;
            const progressPercentage = (totalAnswered / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progressPercentage}%`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            questions.forEach((_, index) => {
                displayQuestion(index);
            });
            updateScore();
        });
    </script>
</body>
</html> 